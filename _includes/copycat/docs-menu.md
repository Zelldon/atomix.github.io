<span class="doc-menu-header"><img src="/assets/img/icons/introduction.svg" class="introduction"> Introduction</span>

* [Getting Started](getting-started)
  * [Installation](#installation)
  * [Creating a State Machine](#creating-a-state-machine)
  * [Defining State Machine Operations](#defining-state-machine-operations)
  * [Implementing State Machine Operations](#implementing-state-machine-operations)
  * [Implementing Snapshot Support](#implementing-state-machine-operations)
  * [Starting a Copycat Server](#starting-a-copycat-server)
  * [Submitting Operations](#submitting-operations-via-the-client)

<span class="doc-menu-header"><img src="/assets/img/icons/concepts.svg" class="concepts"> Concepts</span>

* [Raft Servers](server)
   * [Server Lifecycle](#server-lifecycle)
* [State Machines](state-machine)
   * [Registering Operations](#registering-operations)
   * [Commands](#commands)
      * [Command Consistency](#command-consistency)
   * [Queries](#queries)
      * [Query Consistency](#query-consistency)
   * [Commits](#commits)
   * [Sessions](#sessions-1)
      * [Listening for Changes in Sessions](#listening-for-changes-in-sessions)
   * [Commit Cleaning](#commit-cleaning)
   * [Deterministic Scheduling](#deterministic-scheduling-1)
* [Cluster](cluster)
   * [Cluster lifecycle](#cluster-lifecycle)
   * [Accessing the cluster](#accessing-the-cluster)
   * [Cluster term and leader](#cluster-term-and-leader)
   * [Members](#members)
   * [Listening for membership changes](#listening-for-membership-changes)
   * [Member types](#member-types)
      * [Active members](#active-members)
      * [Passive members](#passive-members)
      * [Reserve members](#reserve-members)
      * [Promoting members](#promoting-members)
      * [Demoting members](#demoting-members)
      * [Removing members](#removing-members)
      * [Listening for member type changes](#listening-for-member-type-changes)
   * [Member statuses](#member-statuses)
   * [Cluster consistency guarantees](#cluster-consistency-guarantees)
* [Raft Clients](client)
   * [Client Lifecycle](#client-lifecycle)
   * [Submitting State Machine Operations](#submitting-state-machine-operations)
   * [Client Sessions](#client-sessions)

<span class="doc-menu-header"><img src="/assets/img/icons/architecture.svg" class="architecture"> Architecture</span>

* [Copycat Internals](internals)
   * [1 Raft Basics](#raft-basics)
      * [1.1 Leader Election](#leader-election-basics)
      * [1.2 Log Replication](#log-replication-basics)
      * [1.3 Membership Changes](#membership-changes-basics)
      * [1.4 Log Compaction](#log-compaction-basics)
   * [2 The Copycat Cluster](#the-copycat-cluster)
   * [3 Client Interaction](#client-interaction)
      * [3.1 Sessions](#sessions)
      * [3.2 Session Lifecycle Management](#session-lifecycle-management)
      * [3.3 Commands](#client-commands)
         * [3.3.1 Preserving Program Order](#preserving-program-order)
         * [3.3.2 Linearizable Semantics](#linearizable-semantics)
      * [3.4 Queries](#client-queries)
         * [3.4.1 Processing Queries on Followers](#processing-queries-on-followers)
         * [3.4.2 Ensuring State Progresses Monotonically](#ensuring-state-progresses-monotonically)
      * [3.5 Session Expiration](#session-expiration)
      * [3.6 Replicating Server Configurations](#replicating-server-configurations)
      * [3.7 Ensuring Time Progresses Monotonically](#ensuring-time-progresses-monotonically)
      * [3.8 Preventing Disruptions Due to Leader Changes](#preventing-disruptions-due-to-leader-changes)
   * [4 State Machines](#state-machines)
      * [4.1 Deterministic Scheduling](#deterministic-scheduling)
   * [5 Session Events](#session-events)
      * [5.1 Publishing Events from the State Machine](#publishing-events-from-the-state-machine)
      * [5.2 Sequencing Events on the Client](#sequencing-events-on-the-client)
      * [5.3 Managing Server Memory](#managing-server-memory)
      * [5.4 Linearizable Session Events](#linearizable-session-events)
      * [5.5 Recovering Messages After a Server Failure](#recovering-messages-after-a-server-failure)
      * [5.6 Managing Log Compaction](#managing-log-compaction)
   * [6 Membership Changes](#membership-changes)
      * [6.1 Active Members](#active-members)
      * [6.2 Passive Members](#passive-members)
      * [6.3 Reserve Members](#reserve-members)
      * [6.4 Passive Replication](#passive-replication)
      * [6.5 Promoting Passive Members](#promoting-passive-members)
      * [6.6 Demoting Active Members](#demoting-active-members)
      * [6.7 Determining Availability](#determining-availability)
   * [7 The Copycat Log](#the-copycat-log)
      * [7.1 Structure of the Log](#log-structure)
      * [7.2 Log Indexes](#log-indexes)
      * [7.3 Optimizing Indexes](#optimizing-log-indexes)
   * [8 Log Compaction](#log-compaction)
      * [8.1 Log Compaction Strategies](#log-compaction-strategies)
         * [8.1.1 Snapshots](#snapshots)
         * [8.1.2 Log Cleaning](#log-cleaning)
         * [8.1.3 LSM Trees](#log-structured-merge-trees)
      * [8.2 Log Compaction Algorithm](#log-compaction-algorithm)
         * [8.2.1 Releasing Entries from the Log](#releasing-entries)
         * [8.2.2 Basics of Log Compaction](#minor-compaction)
         * [8.2.3 Combining Log Segments](#log-segment-compaction)
         * [8.2.4 Removing Tombstones from the Log](#major-compaction)
         * [8.2.5 Ensuring Tombstones are Applied on All Servers](#log-tombstone-safety)
         * [8.2.6 Preventing Race Aonditions in Major Compaction](#major-compaction-safety)
         * [8.2.7 Liveness in Major Compaction](#major-compaction-liveness)
         * [8.2.8 Managing Time and Timeouts](#log-compaction-time)
         * [8.2.9 Handling Membership Changes](#log-compaction-membership-changes)
         * [8.2.10 Replication Performance and Log Compaction](#replication-performance)
      * [8.3 Implementing Snapshots Via Log Compaction](#snapshots-via-log-compaction)
         * [8.3.1 Snapshots and Log Compaction](#log-compaction-snapshots)
         * [8.3.2 Managing Session Events](#snapshot-session-events)
