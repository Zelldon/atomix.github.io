<span class="doc-menu-header"><img src="/assets/img/icons/introduction.svg" class="introduction"> Introduction</span>

* [Getting Started](getting-started)
  * [Installation](#installation)
  * [Creating a state machine](#creating-a-state-machine)
  * [Defining state machine operations](#defining-state-machine-operations)
  * [Implementing state machine operations](#implementing-state-machine-operations)
  * [Starting a Copycat server](#starting-a-copycat-server)
  * [Submitting operations via the client](#submitting-operations-via-the-client)

<span class="doc-menu-header"><img src="/assets/img/icons/concepts.svg" class="concepts"> Concepts</span>

* [Raft servers](server)
   * [The server lifecycle](#server-lifecycle)
* [State machines](state-machine)
   * [Creating a state machine](#creating-a-state-machine)
   * [Defining state machine operations](#defining-state-machine-operations)
   * [Processing commands (writes)](#commands)
      * [Command consistency levels](#command-consistency)
   * [Processing queries (reads)](#queries)
   * [Cleaning the commit log](#cleaning-the-commit-log)
   * [Accessing client sessions](#accessing-client-sessions)
   * [Publishing session events](#publishing-session-events)
   * [Working with time and scheduling](#working-with-time-and-scheduling)
* [Raft clients](client)
   * [The client lifecycle](#client-lifecycle)
   * [Submitting state machine operations](#submitting-state-machine-operations)
   * [Client sessions](#client-sessions)

<span class="doc-menu-header"><img src="/assets/img/icons/architecture.svg" class="architecture"> Architecture</span>

* [Copycat internals](internals)
   * [1 Raft basics](#raft-basics)
      * [1.1 Leader election](#leader-election-basics)
      * [1.2 Log replication](#log-replication-basics)
      * [1.3 Membership changes](#membership-changes-basics)
      * [1.4 Log compaction](#log-compaction-basics)
   * [2 The Copycat cluster](#the-copycat-cluster)
   * [3 Client interaction](#client-interaction)
      * [3.1 Sessions](#sessions)
      * [3.2 Session lifecycle management](#session-lifecycle-management)
      * [3.3 Commands](#client-commands)
         * [3.3.1 Preserving program order](#preserving-program-order)
         * [3.3.2 Linearizable semantics](#linearizable-semantics)
      * [3.4 Queries](#client-queries)
         * [3.4.1 Processing queries on followers](#processing-queries-on-followers)
         * [3.4.2 Ensuring state progresses monotonically](#ensuring-state-progresses-monotonically)
      * [3.5 Session expiration](#session-expiration)
      * [3.6 Replicating server configurations](#replicating-server-configurations)
      * [3.7 Ensuring time progresses monotonically](#ensuring-time-progresses-monotonically)
      * [3.8 Preventing disruptions due to leader changes](#preventing-disruptions-due-to-leader-changes)
   * [4 State machines](#state-machines)
      * [4.1 Deterministic scheduling](#deterministic-scheduling)
   * [5 Session events](#session-events)
      * [5.1 Publishing events from the state machine](#publishing-events-from-the-state-machine)
      * [5.2 Sequencing events on the client](#sequencing-events-on-the-client)
      * [5.3 Managing server memory](#managing-server-memory)
      * [5.4 Linearizable session events](#linearizable-session-events)
      * [5.5 Recovering messages after a server failure](#recovering-messages-after-a-server-failure)
      * [5.6 Managing log compaction](#managing-log-compaction)
   * [6 Membership changes](#membership-changes)
      * [6.1 Active members](#active-members)
      * [6.2 Passive members](#passive-members)
      * [6.3 Reserve members](#reserve-members)
      * [6.4 Passive replication](#passive-replication)
      * [6.5 Promoting passive members](#promoting-passive-members)
      * [6.6 Demoting active members](#demoting-active-members)
      * [6.7 Determining availability](#determining-availability)
   * [7 The Copycat log](#the-copycat-log)
      * [7.1 Structure of the log](#log-structure)
      * [7.2 Log indexes](#log-indexes)
      * [7.3 Optimizing indexes](#optimizing-log-indexes)
   * [8 Log compaction](#log-compaction)
      * [8.1 Log compaction strategies](#log-compaction-strategies)
         * [8.1.1 Snapshots](#snapshots)
         * [8.1.2 Log cleaning](#log-cleaning)
         * [8.1.3 LSM trees](#log-structured-merge-trees)
      * [8.2 Log compaction algorithm](#log-compaction-algorithm)
         * [8.2.1 Releasing entries from the log](#releasing-entries)
         * [8.2.2 Basics of log compaction](#minor-compaction)
         * [8.2.3 Combining log segments](#log-segment-compaction)
         * [8.2.4 Removing tombstones from the log](#major-compaction)
         * [8.2.5 Ensuring tombstones are applied on all servers](#log-tombstone-safety)
         * [8.2.6 Preventing race conditions in major compaction](#major-compaction-safety)
         * [8.2.7 Liveness in major compaction](#major-compaction-liveness)
         * [8.2.8 Managing time and timeouts](#log-compaction-time)
         * [8.2.9 Handling membership changes](#log-compaction-membership-changes)
         * [8.2.10 Replication performance and log compaction](#replication-performance)
      * [8.3 Implementing snapshots via log compaction](#snapshots-via-log-compaction)
         * [8.3.1 Snapshots and log compaction](#log-compaction-snapshots)
         * [8.3.2 Managing session events](#snapshot-session-events)
