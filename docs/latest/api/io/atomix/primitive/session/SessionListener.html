<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_131) on Tue Aug 07 10:51:09 CEST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SessionListener (Atomix API Reference (3.0.0))</title>
<meta name="date" content="2018-08-07">
<link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SessionListener (Atomix API Reference (3.0.0))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SessionListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/atomix/primitive/session/SessionIdService.html" title="interface in io.atomix.primitive.session"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/atomix/primitive/session/SessionMetadata.html" title="class in io.atomix.primitive.session"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/atomix/primitive/session/SessionListener.html" target="_top">Frames</a></li>
<li><a href="SessionListener.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.atomix.primitive.session</div>
<h2 title="Interface SessionListener" class="title">Interface SessionListener</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">SessionListener</span></pre>
<div class="block">Support for listening for state changes in server sessions.
 <p>
 When implemented by a <a href="../../../../io/atomix/primitive/service/PrimitiveService.html" title="interface in io.atomix.primitive.service"><code>StateMachine</code></a>, this interface provides
 support to state machines for reacting to changes in the sessions connected to the cluster. State machines
 can react to clients <a href="../../../../io/atomix/primitive/session/SessionListener.html#onOpen-io.atomix.primitive.session.Session-"><code>registering</code></a> and <a href="../../../../io/atomix/primitive/session/SessionListener.html#onClose-io.atomix.primitive.session.Session-"><code>unregistering</code></a>
 sessions and servers <a href="../../../../io/atomix/primitive/session/SessionListener.html#onExpire-io.atomix.primitive.session.Session-"><code>expiring</code></a> sessions.
 <p>
 <a href="../../../../io/atomix/primitive/session/Session.html" title="interface in io.atomix.primitive.session"><code>Session</code></a>s represent a single client's open connection to a cluster. Within the context of a session,
 Raft provides additional guarantees for clients like linearizability for writes and sequential consistency
 for reads. Additionally, state machines can push messages to specific clients via sessions. Typically, all
 state machines that rely on session-based messaging should implement this interface to track when a session
 is <a href="../../../../io/atomix/primitive/session/SessionListener.html#onClose-io.atomix.primitive.session.Session-"><code>closed</code></a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/primitive/session/SessionListener.html#onClose-io.atomix.primitive.session.Session-">onClose</a></span>(<a href="../../../../io/atomix/primitive/session/Session.html" title="interface in io.atomix.primitive.session">Session</a>&nbsp;session)</code>
<div class="block">Called when a session was closed by the client.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/primitive/session/SessionListener.html#onExpire-io.atomix.primitive.session.Session-">onExpire</a></span>(<a href="../../../../io/atomix/primitive/session/Session.html" title="interface in io.atomix.primitive.session">Session</a>&nbsp;session)</code>
<div class="block">Called when a session is expired by the system.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/primitive/session/SessionListener.html#onOpen-io.atomix.primitive.session.Session-">onOpen</a></span>(<a href="../../../../io/atomix/primitive/session/Session.html" title="interface in io.atomix.primitive.session">Session</a>&nbsp;session)</code>
<div class="block">Called when a new session is registered.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onOpen-io.atomix.primitive.session.Session-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onOpen</h4>
<pre>void&nbsp;onOpen(<a href="../../../../io/atomix/primitive/session/Session.html" title="interface in io.atomix.primitive.session">Session</a>&nbsp;session)</pre>
<div class="block">Called when a new session is registered.
 <p>
 A session is registered when a new client connects to the cluster or an existing client recovers its
 session after being partitioned from the cluster. It's important to note that when this method is called,
 the <a href="../../../../io/atomix/primitive/session/Session.html" title="interface in io.atomix.primitive.session"><code>Session</code></a> is <em>not yet open</em> and so events cannot be <a href="../../../../io/atomix/primitive/session/Session.html#publish-io.atomix.primitive.event.PrimitiveEvent-"><code>published</code></a>
 to the registered session. This is because clients cannot reliably track messages pushed from server state machines
 to the client until the session has been fully registered. Session event messages may still be published to
 other already-registered sessions in reaction to a session being registered.
 <p>
 To push session event messages to a client through its session upon registration, state machines can
 use an asynchronous callback or schedule a callback to send a message.
 <pre>
   <code>
   public void onOpen(RaftSession session) {
     executor.execute(() -&gt; session.publish("foo", "Hello world!"));
   }
   </code>
 </pre>
 Sending a session event message in an asynchronous callback allows the server time to register the session
 and notify the client before the event message is sent. Published event messages sent via this method will
 be sent the next time an operation is applied to the state machine.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - The session that was registered. State machines <em>cannot</em> <a href="../../../../io/atomix/primitive/session/Session.html#publish-io.atomix.primitive.event.PrimitiveEvent-"><code>Session.publish(PrimitiveEvent)</code></a> session
                events to this session.</dd>
</dl>
</li>
</ul>
<a name="onExpire-io.atomix.primitive.session.Session-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onExpire</h4>
<pre>void&nbsp;onExpire(<a href="../../../../io/atomix/primitive/session/Session.html" title="interface in io.atomix.primitive.session">Session</a>&nbsp;session)</pre>
<div class="block">Called when a session is expired by the system.
 <p>
 This method is called when a client fails to keep its session alive with the cluster. If the leader hasn't heard
 from a client for a configurable time interval, the leader will expire the session to free the related memory.
 This method will always be called for a given session before <a href="../../../../io/atomix/primitive/session/SessionListener.html#onClose-io.atomix.primitive.session.Session-"><code>onClose(Session)</code></a>, and <a href="../../../../io/atomix/primitive/session/SessionListener.html#onClose-io.atomix.primitive.session.Session-"><code>onClose(Session)</code></a>
 will always be called following this method.
 <p>
 State machines are free to <a href="../../../../io/atomix/primitive/session/Session.html#publish-io.atomix.primitive.event.PrimitiveEvent-"><code>Session.publish(PrimitiveEvent)</code></a> session event messages to any session except
 the one that expired. Session event messages sent to the session that expired will be lost since the session is closed once this
 method call completes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - The session that was expired. State machines <em>cannot</em> <a href="../../../../io/atomix/primitive/session/Session.html#publish-io.atomix.primitive.event.PrimitiveEvent-"><code>Session.publish(PrimitiveEvent)</code></a> session
                events to this session.</dd>
</dl>
</li>
</ul>
<a name="onClose-io.atomix.primitive.session.Session-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onClose</h4>
<pre>void&nbsp;onClose(<a href="../../../../io/atomix/primitive/session/Session.html" title="interface in io.atomix.primitive.session">Session</a>&nbsp;session)</pre>
<div class="block">Called when a session was closed by the client.
 <p>
 This method is called when a client explicitly closes a session.
 <p>
 State machines are free to <a href="../../../../io/atomix/primitive/session/Session.html#publish-io.atomix.primitive.event.PrimitiveEvent-"><code>Session.publish(PrimitiveEvent)</code></a> session event messages to any session except
 the one that was closed. Session event messages sent to the session that was closed will be lost since the session is closed once this
 method call completes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - The session that was closed. State machines <em>cannot</em> <a href="../../../../io/atomix/primitive/session/Session.html#publish-io.atomix.primitive.event.PrimitiveEvent-"><code>Session.publish(PrimitiveEvent)</code></a> session
                events to this session.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SessionListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/atomix/primitive/session/SessionIdService.html" title="interface in io.atomix.primitive.session"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/atomix/primitive/session/SessionMetadata.html" title="class in io.atomix.primitive.session"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/atomix/primitive/session/SessionListener.html" target="_top">Frames</a></li>
<li><a href="SessionListener.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013&#x2013;2018. All rights reserved.</small></p>
</body>
</html>
