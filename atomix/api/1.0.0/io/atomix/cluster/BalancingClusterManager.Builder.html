<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>BalancingClusterManager.Builder (Atomix API Reference (1.0.0))</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BalancingClusterManager.Builder (Atomix API Reference (1.0.0))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BalancingClusterManager.Builder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../io/atomix/cluster/BalancingClusterManager.html" title="class in io.atomix.cluster"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../io/atomix/cluster/ClusterManager.html" title="interface in io.atomix.cluster"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?io/atomix/cluster/BalancingClusterManager.Builder.html" target="_top">Frames</a></li>
<li><a href="BalancingClusterManager.Builder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.atomix.cluster</div>
<h2 title="Class BalancingClusterManager.Builder" class="title">Class BalancingClusterManager.Builder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>io.atomix.cluster.BalancingClusterManager.Builder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Builder.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Builder</a>&lt;<a href="../../../io/atomix/cluster/ClusterManager.html" title="interface in io.atomix.cluster">ClusterManager</a>&gt;, <a href="../../../io/atomix/cluster/ClusterManager.Builder.html" title="interface in io.atomix.cluster">ClusterManager.Builder</a></dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../io/atomix/cluster/BalancingClusterManager.html" title="class in io.atomix.cluster">BalancingClusterManager</a></dd>
</dl>
<hr>
<br>
<pre>public static class <span class="typeNameLabel">BalancingClusterManager.Builder</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../io/atomix/cluster/ClusterManager.Builder.html" title="interface in io.atomix.cluster">ClusterManager.Builder</a></pre>
<div class="block">Balancing cluster manager builder.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../io/atomix/cluster/BalancingClusterManager.Builder.html#Builder--">Builder</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../io/atomix/cluster/ClusterManager.html" title="interface in io.atomix.cluster">ClusterManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/cluster/BalancingClusterManager.Builder.html#build--">build</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../io/atomix/cluster/BalancingClusterManager.Builder.html" title="class in io.atomix.cluster">BalancingClusterManager.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/cluster/BalancingClusterManager.Builder.html#withBackupCount-int-">withBackupCount</a></span>(int&nbsp;backupCount)</code>
<div class="block">Sets the replica backup count.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../io/atomix/cluster/BalancingClusterManager.Builder.html" title="class in io.atomix.cluster">BalancingClusterManager.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/cluster/BalancingClusterManager.Builder.html#withQuorumHint-int-">withQuorumHint</a></span>(int&nbsp;quorumHint)</code>
<div class="block">Sets the cluster quorum hint.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../io/atomix/cluster/BalancingClusterManager.Builder.html" title="class in io.atomix.cluster">BalancingClusterManager.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/cluster/BalancingClusterManager.Builder.html#withQuorumHint-io.atomix.cluster.Quorum-">withQuorumHint</a></span>(<a href="../../../io/atomix/cluster/Quorum.html" title="enum in io.atomix.cluster">Quorum</a>&nbsp;quorum)</code>
<div class="block">Sets the cluster quorum hint.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Builder--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Builder</h4>
<pre>public&nbsp;Builder()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="withQuorumHint-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withQuorumHint</h4>
<pre>public&nbsp;<a href="../../../io/atomix/cluster/BalancingClusterManager.Builder.html" title="class in io.atomix.cluster">BalancingClusterManager.Builder</a>&nbsp;withQuorumHint(int&nbsp;quorumHint)</pre>
<div class="block">Sets the cluster quorum hint.
 <p>
 The quorum hint specifies the optimal number of replicas to actively participate in the Raft
 consensus algorithm. As long as there are at least <code>quorumHint</code> replicas in the cluster,
 Atomix will automatically balance replicas to ensure that at least <code>quorumHint</code> replicas
 are active participants in the Raft algorithm at any given time. Replicas can be added to or
 removed from the cluster at will, and remaining replicas will be transparently promoted and demoted
 as necessary to maintain the desired quorum size.
 <p>
 The size of the quorum is relevant both to performance and fault-tolerance. When resources are
 created or deleted or resource state changes are submitted to the cluster, Atomix will synchronously
 replicate changes to a majority of the cluster before they can be committed and update state. For
 example, in a cluster where the <code>quorumHint</code> is <code>3</code>, a
 <a href="../../../io/atomix/collections/DistributedMap.html#put-K-V-"><code>DistributedMap.put(Object, Object)</code></a> command must be sent to the leader
 and then synchronously replicated to one other replica before it can be committed and applied to the
 map state machine. This also means that a cluster with <code>quorumHint</code> equal to <code>3</code> can tolerate
 at most one failure.
 <p>
 Users should set the <code>quorumHint</code> to an odd number of replicas or use one of the <a href="../../../io/atomix/cluster/Quorum.html" title="enum in io.atomix.cluster"><code>Quorum</code></a>
 magic constants for the greatest level of fault tolerance. Typically, in write-heavy workloads, the most
 performant configuration will be a <code>quorumHint</code> of <code>3</code>. In read-heavy workloads, quorum hints
 of <code>3</code> or <code>5</code> can be used depending on the size of the cluster and desired level of fault tolerance.
 Additional active replicas may or may not improve read performance depending on usage and in particular
 <a href="../../../io/atomix/resource/ReadConsistency.html" title="enum in io.atomix.resource"><code>read consistency</code></a> levels.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>quorumHint</code> - The quorum hint. This must be the same on all replicas in the cluster.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The replica builder.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the quorum hint is less than <code>-1</code></dd>
</dl>
</li>
</ul>
<a name="withQuorumHint-io.atomix.cluster.Quorum-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withQuorumHint</h4>
<pre>public&nbsp;<a href="../../../io/atomix/cluster/BalancingClusterManager.Builder.html" title="class in io.atomix.cluster">BalancingClusterManager.Builder</a>&nbsp;withQuorumHint(<a href="../../../io/atomix/cluster/Quorum.html" title="enum in io.atomix.cluster">Quorum</a>&nbsp;quorum)</pre>
<div class="block">Sets the cluster quorum hint.
 <p>
 The quorum hint specifies the optimal number of replicas to actively participate in the Raft
 consensus algorithm. As long as there are at least <code>quorumHint</code> replicas in the cluster,
 Atomix will automatically balance replicas to ensure that at least <code>quorumHint</code> replicas
 are active participants in the Raft algorithm at any given time. Replicas can be added to or
 removed from the cluster at will, and remaining replicas will be transparently promoted and demoted
 as necessary to maintain the desired quorum size.
 <p>
 By default, the configured quorum hint is <a href="../../../io/atomix/cluster/Quorum.html#ALL"><code>Quorum.ALL</code></a>.
 <p>
 The size of the quorum is relevant both to performance and fault-tolerance. When resources are
 created or deleted or resource state changes are submitted to the cluster, Atomix will synchronously
 replicate changes to a majority of the cluster before they can be committed and update state. For
 example, in a cluster where the <code>quorumHint</code> is <code>3</code>, a
 <a href="../../../io/atomix/collections/DistributedMap.html#put-K-V-"><code>DistributedMap.put(Object, Object)</code></a> command must be sent to the leader
 and then synchronously replicated to one other replica before it can be committed and applied to the
 map state machine. This also means that a cluster with <code>quorumHint</code> equal to <code>3</code> can tolerate
 at most one failure.
 <p>
 Users should set the <code>quorumHint</code> to an odd number of replicas or use one of the <a href="../../../io/atomix/cluster/Quorum.html" title="enum in io.atomix.cluster"><code>Quorum</code></a>
 magic constants for the greatest level of fault tolerance. Typically, in write-heavy workloads, the most
 performant configuration will be a <code>quorumHint</code> of <code>3</code>. In read-heavy workloads, quorum hints
 of <code>3</code> or <code>5</code> can be used depending on the size of the cluster and desired level of fault tolerance.
 Additional active replicas may or may not improve read performance depending on usage and in particular
 <a href="../../../io/atomix/resource/ReadConsistency.html" title="enum in io.atomix.resource"><code>read consistency</code></a> levels.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>quorum</code> - The quorum hint. This must be the same on all replicas in the cluster.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The replica builder.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the quorum hint is null</dd>
</dl>
</li>
</ul>
<a name="withBackupCount-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withBackupCount</h4>
<pre>public&nbsp;<a href="../../../io/atomix/cluster/BalancingClusterManager.Builder.html" title="class in io.atomix.cluster">BalancingClusterManager.Builder</a>&nbsp;withBackupCount(int&nbsp;backupCount)</pre>
<div class="block">Sets the replica backup count.
 <p>
 The backup count specifies the maximum number of replicas per <a href="../../../io/atomix/cluster/BalancingClusterManager.Builder.html#withQuorumHint-int-"><code>active</code></a> replica
 to participate in asynchronous replication of state. Backup replicas allow quorum-member replicas to be
 more quickly replaced in the event of a failure or an active replica leaving the cluster. Additionally,
 backup replicas may service <a href="../../../io/atomix/resource/ReadConsistency.html#SEQUENTIAL"><code>SEQUENTIAL</code></a> and
 <code>CAUSAL</code> reads to allow read operations to be further
 spread across the cluster.
 <p>
 The backup count is used to calculate the number of backup replicas per non-leader active member. The
 number of actual backups is calculated by <code>(quorumHint - 1) * backupCount</code>. If the
 <code>backupCount</code> is <code>1</code> and the <code>quorumHint</code> is <code>3</code>, the number of backup replicas
 will be <code>2</code>.
 <p>
 By default, the backup count is <code>0</code>, indicating no backups should be maintained. However, it is
 recommended that each cluster have at least a backup count of <code>1</code> to ensure active replicas can
 be quickly replaced in the event of a network partition or other failure. Quick replacement of active
 member nodes improves fault tolerance in cases where a majority of the active members in the cluster are
 not lost simultaneously.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>backupCount</code> - The number of backup replicas per active replica. This must be the same on all
                    replicas in the cluster.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The replica builder.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the <code>backupCount</code> is negative</dd>
</dl>
</li>
</ul>
<a name="build--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>build</h4>
<pre>public&nbsp;<a href="../../../io/atomix/cluster/ClusterManager.html" title="interface in io.atomix.cluster">ClusterManager</a>&nbsp;build()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Builder.html?is-external=true#build--" title="class or interface in io.atomix.catalyst.util">build</a></code>&nbsp;in interface&nbsp;<code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Builder.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Builder</a>&lt;<a href="../../../io/atomix/cluster/ClusterManager.html" title="interface in io.atomix.cluster">ClusterManager</a>&gt;</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BalancingClusterManager.Builder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../io/atomix/cluster/BalancingClusterManager.html" title="class in io.atomix.cluster"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../io/atomix/cluster/ClusterManager.html" title="interface in io.atomix.cluster"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?io/atomix/cluster/BalancingClusterManager.Builder.html" target="_top">Frames</a></li>
<li><a href="BalancingClusterManager.Builder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013&#x2013;2016. All rights reserved.</small></p>
</body>
</html>
