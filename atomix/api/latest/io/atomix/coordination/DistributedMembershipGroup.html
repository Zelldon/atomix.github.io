<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DistributedMembershipGroup (Atomix API Reference (latest))</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DistributedMembershipGroup (Atomix API Reference (latest))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DistributedMembershipGroup.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../io/atomix/coordination/DistributedLock.html" title="class in io.atomix.coordination"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../io/atomix/coordination/DistributedMessageBus.html" title="class in io.atomix.coordination"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?io/atomix/coordination/DistributedMembershipGroup.html" target="_top">Frames</a></li>
<li><a href="DistributedMembershipGroup.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.atomix.coordination</div>
<h2 title="Class DistributedMembershipGroup" class="title">Class DistributedMembershipGroup</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../io/atomix/Resource.html" title="class in io.atomix">io.atomix.Resource</a>&lt;<a href="../../../io/atomix/coordination/DistributedMembershipGroup.html" title="class in io.atomix.coordination">DistributedMembershipGroup</a>&gt;</li>
<li>
<ul class="inheritance">
<li>io.atomix.coordination.DistributedMembershipGroup</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">DistributedMembershipGroup</span>
extends <a href="../../../io/atomix/Resource.html" title="class in io.atomix">Resource</a>&lt;<a href="../../../io/atomix/coordination/DistributedMembershipGroup.html" title="class in io.atomix.coordination">DistributedMembershipGroup</a>&gt;</pre>
<div class="block">Provides a mechanism for managing group membership in a distributed system.
 <p>
 The distributed membership group resource facilitates managing group membership within the Atomix cluster.
 Each instance of a <code>DistributedMembershipGroup</code> resource represents a single <a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination"><code>GroupMember</code></a>.
 Members can <a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#join--"><code>join()</code></a> and <a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#leave--"><code>leave()</code></a> the group and be notified of other members <a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#onJoin-java.util.function.Consumer-"><code>joining</code></a>
 and <a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#onLeave-java.util.function.Consumer-"><code>leaving</code></a> the group. Members may leave the group either voluntarily or due to
 a failure or other disconnection from the cluster.
 <p>
 To create a membership group resource, use the <code>DistributedMembershipGroup</code> class or constructor:
 <pre>
   <code>
   atomix.create("group", DistributedMembershipGroup.class).thenAccept(group -&gt; {
     ...
   });
   </code>
 </pre>
 <b>Joining the group</b>
 <p>
 When a new instance of the resource is created, it is initialized with an empty <a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#members--"><code>members()</code></a> list and
 <a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#member--"><code>member()</code></a> as it is not yet a member of the group. Once the instance has been created, the instance must
 join the group via <a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#join--"><code>join()</code></a>:
 <pre>
   <code>
   group.join().thenAccept(member -&gt; {
     System.out.println("Joined with member ID: " + member.id());
   });
   </code>
 </pre>
 Once the group has been joined, the <a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#members--"><code>members()</code></a> list provides an up-to-date view of the group which will
 be automatically updated as members join and leave the group. To be explicitly notified when a member joins or
 leaves the group, use the <a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#onJoin-java.util.function.Consumer-"><code>onJoin(Consumer)</code></a> or <a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#onLeave-java.util.function.Consumer-"><code>onLeave(Consumer)</code></a> event consumers respectively:
 <pre>
   <code>
   group.onJoin(member -&gt; {
     System.out.println(member.id() + " joined the group!");
   });
   </code>
 </pre>
 <b>Remote execution</b>
 <p>
 Once members of the group, any member can <a href="../../../io/atomix/coordination/GroupMember.html#execute-java.lang.Runnable-"><code>execute</code></a> immediate callbacks or
 <a href="../../../io/atomix/coordination/GroupMember.html#schedule-java.time.Duration-java.lang.Runnable-"><code>schedule</code></a> delayed callbacks to be run on any other member of the
 group. Submitting a <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang"><code>Runnable</code></a> callback to a member will cause it to be serialized and sent to that node
 to be executed.
 <pre>
   <code>
   group.onJoin(member -&gt; {
     long memberId = member.id();
     member.execute((Serializable &amp; Runnable) () -&gt; System.out.println("Executing on " + memberId));
   });
   </code>
 </pre></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="http://github.com/kuujo>Jordan Halterman</a></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination"><code>GroupMember</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#DistributedMembershipGroup--">DistributedMembershipGroup</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#join--">join</a></span>()</code>
<div class="block">Joins the instance to the membership group.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#leave--">leave</a></span>()</code>
<div class="block">Leaves the membership group.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#member--">member</a></span>()</code>
<div class="block">Returns the local group member.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#member-long-">member</a></span>(long&nbsp;memberId)</code>
<div class="block">Returns a group member by ID.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#members--">members</a></span>()</code>
<div class="block">Returns the collection of all members in the group.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Listener.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Listener</a>&lt;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#onJoin-java.util.function.Consumer-">onJoin</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function">Consumer</a>&lt;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&gt;&nbsp;listener)</code>
<div class="block">Adds a listener for members joining the group.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Listener.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Listener</a>&lt;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#onLeave-java.util.function.Consumer-">onLeave</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function">Consumer</a>&lt;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&gt;&nbsp;listener)</code>
<div class="block">Adds a listener for members leaving the group.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.atomix.Resource">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.atomix.<a href="../../../io/atomix/Resource.html" title="class in io.atomix">Resource</a></h3>
<code><a href="../../../io/atomix/Resource.html#delete--">delete</a>, <a href="../../../io/atomix/Resource.html#equals-java.lang.Object-">equals</a>, <a href="../../../io/atomix/Resource.html#hashCode--">hashCode</a>, <a href="../../../io/atomix/Resource.html#id--">id</a>, <a href="../../../io/atomix/Resource.html#with-io.atomix.Consistency-">with</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DistributedMembershipGroup--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DistributedMembershipGroup</h4>
<pre>public&nbsp;DistributedMembershipGroup()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="member--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>member</h4>
<pre>public&nbsp;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&nbsp;member()</pre>
<div class="block">Returns the local group member.
 <p>
 The local <a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination"><code>GroupMember</code></a> is constructed when this instance <a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#join--"><code>joins</code></a> the group.
 The <a href="../../../io/atomix/coordination/GroupMember.html#id--"><code>GroupMember.id()</code></a> is guaranteed to be unique to this instance throughout the lifetime of
 this distributed resource.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The local group member or <code>null</code> if the member has not joined the group.</dd>
</dl>
</li>
</ul>
<a name="member-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>member</h4>
<pre>public&nbsp;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&nbsp;member(long&nbsp;memberId)</pre>
<div class="block">Returns a group member by ID.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>memberId</code> - The member ID for which to return a <a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination"><code>GroupMember</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The member with the given <code>memberId</code> or <code>null</code> if it is not a known member of the group.</dd>
</dl>
</li>
</ul>
<a name="members--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>members</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&gt;&nbsp;members()</pre>
<div class="block">Returns the collection of all members in the group.
 <p>
 The returned members collection is guaranteed to be representative of the current group state.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The collection of all members in the group.</dd>
</dl>
</li>
</ul>
<a name="join--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>join</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&gt;&nbsp;join()</pre>
<div class="block">Joins the instance to the membership group.
 <p>
 When this instance joins the membership group, the membership lists of this and all other instances
 in the group are guaranteed to be updated <em>before</em> the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> returned by
 this method is completed. Once this instance has joined the group, the returned future will be completed
 with the <a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination"><code>GroupMember</code></a> instance for this member.
 <p>
 This method returns a <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> which can be used to block until the operation completes
 or to be notified in a separate thread once the operation completes. To block until the operation completes,
 use the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true#join--" title="class or interface in java.util.concurrent"><code>CompletableFuture.join()</code></a> method to block the calling thread:
 <pre>
   <code>
   group.join().join();
   </code>
 </pre>
 Alternatively, to execute the operation asynchronous and be notified once the lock is acquired in a different
 thread, use one of the many completable future callbacks:
 <pre>
   <code>
   group.join().thenAccept(thisMember -&gt; System.out.println("This member is: " + thisMember.id()));
   </code>
 </pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed once the member has joined.</dd>
</dl>
</li>
</ul>
<a name="onJoin-java.util.function.Consumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onJoin</h4>
<pre>public&nbsp;<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Listener.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Listener</a>&lt;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&gt;&nbsp;onJoin(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function">Consumer</a>&lt;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&gt;&nbsp;listener)</pre>
<div class="block">Adds a listener for members joining the group.
 <p>
 The provided <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function"><code>Consumer</code></a> will be called each time a member joins the group. Note that
 the join consumer will be called before the joining member's <a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#join--"><code>join()</code></a> completes.
 <p>
 The returned <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Listener.html?is-external=true" title="class or interface in io.atomix.catalyst.util"><code>Listener</code></a> can be used to <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Listener.html?is-external=true#close--" title="class or interface in io.atomix.catalyst.util"><code>unregister</code></a> the listener
 when its use if finished.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - The join listener.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The listener context.</dd>
</dl>
</li>
</ul>
<a name="leave--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>leave</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;leave()</pre>
<div class="block">Leaves the membership group.
 <p>
 When this instance leaves the membership group, the membership lists of this and all other instances
 in the group are guaranteed to be updated <em>before</em> the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> returned by
 this method is completed. Once this instance has left the group, the returned future will be completed.
 <p>
 This method returns a <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> which can be used to block until the operation completes
 or to be notified in a separate thread once the operation completes. To block until the operation completes,
 use the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true#join--" title="class or interface in java.util.concurrent"><code>CompletableFuture.join()</code></a> method to block the calling thread:
 <pre>
   <code>
   group.leave().join();
   </code>
 </pre>
 Alternatively, to execute the operation asynchronous and be notified once the lock is acquired in a different
 thread, use one of the many completable future callbacks:
 <pre>
   <code>
   group.leave().thenRun(() -&gt; System.out.println("Left the group!")));
   </code>
 </pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed once the member has left.</dd>
</dl>
</li>
</ul>
<a name="onLeave-java.util.function.Consumer-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onLeave</h4>
<pre>public&nbsp;<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Listener.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Listener</a>&lt;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&gt;&nbsp;onLeave(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function">Consumer</a>&lt;<a href="../../../io/atomix/coordination/GroupMember.html" title="interface in io.atomix.coordination">GroupMember</a>&gt;&nbsp;listener)</pre>
<div class="block">Adds a listener for members leaving the group.
 <p>
 The provided <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function"><code>Consumer</code></a> will be called each time a member leaves the group. Members can
 leave the group either voluntarily or by crashing or otherwise becoming disconnected from the
 cluster for longer than their session timeout. Note that the leave consumer will be called before
 the leaving member's <a href="../../../io/atomix/coordination/DistributedMembershipGroup.html#leave--"><code>leave()</code></a> completes.
 <p>
 The returned <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Listener.html?is-external=true" title="class or interface in io.atomix.catalyst.util"><code>Listener</code></a> can be used to <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Listener.html?is-external=true#close--" title="class or interface in io.atomix.catalyst.util"><code>unregister</code></a> the listener
 when its use if finished.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - The leave listener.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The listener context.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DistributedMembershipGroup.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../io/atomix/coordination/DistributedLock.html" title="class in io.atomix.coordination"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../io/atomix/coordination/DistributedMessageBus.html" title="class in io.atomix.coordination"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?io/atomix/coordination/DistributedMembershipGroup.html" target="_top">Frames</a></li>
<li><a href="DistributedMembershipGroup.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013&#x2013;2015. All rights reserved.</small></p>
</body>
</html>
