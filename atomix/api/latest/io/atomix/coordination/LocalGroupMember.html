<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LocalGroupMember (Atomix API Reference (latest))</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LocalGroupMember (Atomix API Reference (latest))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LocalGroupMember.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../io/atomix/coordination/LocalGroupConnection.html" title="class in io.atomix.coordination"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../io/atomix/coordination/LocalGroupTaskQueue.html" title="class in io.atomix.coordination"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?io/atomix/coordination/LocalGroupMember.html" target="_top">Frames</a></li>
<li><a href="LocalGroupMember.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.atomix.coordination</div>
<h2 title="Class LocalGroupMember" class="title">Class LocalGroupMember</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../io/atomix/coordination/GroupMember.html" title="class in io.atomix.coordination">io.atomix.coordination.GroupMember</a></li>
<li>
<ul class="inheritance">
<li>io.atomix.coordination.LocalGroupMember</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">LocalGroupMember</span>
extends <a href="../../../io/atomix/coordination/GroupMember.html" title="class in io.atomix.coordination">GroupMember</a></pre>
<div class="block">A <a href="../../../io/atomix/coordination/DistributedGroup.html" title="class in io.atomix.coordination"><code>DistributedGroup</code></a> member representing a member of the group controlled by the
 local process.
 <p>
 Local group members can only be acquired by <a href="../../../io/atomix/coordination/DistributedGroup.html#join--"><code>joining</code></a> a membership
 group. Local members provide the interface necessary to set member properties, receive messages,
 and react to the election of the member as the group leader.
 <p>
 To receive messages sent to the joined member of the group, register a message consumer. Messages
 sent to the member are associated with a <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><code>String</code></a> topic, and separate handlers can be registered
 for each topic supported by the local member:
 <pre>
   <code>
   LocalGroupMember member = group.join().get();
   member.onMessage("foo", message -&gt; System.out.println("received: " + message));
   </code>
 </pre>
 Membership groups automatically elect a leader for the group at all times. To determine when the local group
 member has been elected leader, register a leader <a href="../../../io/atomix/coordination/LocalGroupMember.html#onElection-java.util.function.Consumer-"><code>election listener</code></a>:
 <pre>
   <code>
   LocalGroupMember member = group.join().get();
   group.onElection(term -&gt; {
     System.out.println("Elected leader for term " + term);
   });
   </code>
 </pre>
 The leader is guaranteed to be unique within a given <a href="../../../io/atomix/coordination/GroupElection.html#term--"><code>term</code></a>. However, once
 the member is elected leader, it is not guaranteed to remain the leader of the group until failure. In the
 event that the local group instance is partitioned from the rest of the cluster, the member may be removed
 from leadership and another member of the group may be elected. Users should use the provided <code>term</code>
 for fencing when interacting with external resources.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="http://github.com/kuujo>Jordan Halterman</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../io/atomix/coordination/LocalGroupConnection.html" title="class in io.atomix.coordination">LocalGroupConnection</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/coordination/LocalGroupMember.html#connection--">connection</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/coordination/LocalGroupMember.html#leave--">leave</a></span>()</code>
<div class="block">Leaves the membership group.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Listener.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Listener</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/coordination/LocalGroupMember.html#onElection-java.util.function.Consumer-">onElection</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function">Consumer</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;callback)</code>
<div class="block">Registers a callback to be called when this member is elected leader.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/coordination/LocalGroupMember.html#resign--">resign</a></span>()</code>
<div class="block">Resigns from leadership.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../io/atomix/coordination/LocalGroupTaskQueue.html" title="class in io.atomix.coordination">LocalGroupTaskQueue</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/atomix/coordination/LocalGroupMember.html#tasks--">tasks</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.atomix.coordination.GroupMember">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.atomix.coordination.<a href="../../../io/atomix/coordination/GroupMember.html" title="class in io.atomix.coordination">GroupMember</a></h3>
<code><a href="../../../io/atomix/coordination/GroupMember.html#address--">address</a>, <a href="../../../io/atomix/coordination/GroupMember.html#id--">id</a>, <a href="../../../io/atomix/coordination/GroupMember.html#isLeader--">isLeader</a>, <a href="../../../io/atomix/coordination/GroupMember.html#properties--">properties</a>, <a href="../../../io/atomix/coordination/GroupMember.html#scheduler--">scheduler</a>, <a href="../../../io/atomix/coordination/GroupMember.html#toString--">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="tasks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tasks</h4>
<pre>public&nbsp;<a href="../../../io/atomix/coordination/LocalGroupTaskQueue.html" title="class in io.atomix.coordination">LocalGroupTaskQueue</a>&nbsp;tasks()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../io/atomix/coordination/GroupMember.html#tasks--">tasks</a></code>&nbsp;in class&nbsp;<code><a href="../../../io/atomix/coordination/GroupMember.html" title="class in io.atomix.coordination">GroupMember</a></code></dd>
</dl>
</li>
</ul>
<a name="connection--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connection</h4>
<pre>public&nbsp;<a href="../../../io/atomix/coordination/LocalGroupConnection.html" title="class in io.atomix.coordination">LocalGroupConnection</a>&nbsp;connection()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../io/atomix/coordination/GroupMember.html#connection--">connection</a></code>&nbsp;in class&nbsp;<code><a href="../../../io/atomix/coordination/GroupMember.html" title="class in io.atomix.coordination">GroupMember</a></code></dd>
</dl>
</li>
</ul>
<a name="onElection-java.util.function.Consumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onElection</h4>
<pre>public&nbsp;<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Listener.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Listener</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;onElection(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function">Consumer</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;callback)</pre>
<div class="block">Registers a callback to be called when this member is elected leader.
 <p>
 The provided <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function"><code>Consumer</code></a> will be called when the local member is elected leader.
 The term for which the member was elected leader will be provided to the callback.
 <pre>
   <code>
   group.join().thenAccept(member -&gt; {
     member.onElection(term -&gt; {
       System.out.println("Elected leader for term " + term);
     });
   });
   </code>
 </pre>
 Leader election is performed using a fair algorithm. However, once the member is elected
 leader, it is not guaranteed to remain the leader of the group until failure. In the
 event that the local group instance is partitioned from the rest of the cluster, the
 member may be removed from leadership and another member of the group may be elected.
 Users should use the provided <code>term</code> for fencing when interacting with external
 resources.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - The callback to call.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The leader election listener.</dd>
</dl>
</li>
</ul>
<a name="resign--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resign</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;resign()</pre>
<div class="block">Resigns from leadership.
 <p>
 Resigning as the leader of the group will result in the local member being placed at the
 tail of the leader election queue. Once the member has resigned, the <a href="../../../io/atomix/coordination/GroupElection.html#term--"><code>GroupElection.term()</code></a>
 will be incremented and a new leader will be elected from the leader queue. If the local member
 is the only member of the group, it will immediately be reassigned as the leader for the new
 term.
 <pre>
   <code>
   member.onElection(term -&gt; {
     // I don't want to be the leader!
     member.resign();
   });
   </code>
 </pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed once the member has resigned.</dd>
</dl>
</li>
</ul>
<a name="leave--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>leave</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;leave()</pre>
<div class="block">Leaves the membership group.
 <p>
 When this member leaves the membership group, the membership lists of this and all other instances
 in the group are guaranteed to be updated <em>before</em> the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> returned by
 this method is completed. Once this instance has left the group, the returned future will be completed.
 <p>
 This method returns a <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> which can be used to block until the operation completes
 or to be notified in a separate thread once the operation completes. To block until the operation completes,
 use the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true#join--" title="class or interface in java.util.concurrent"><code>CompletableFuture.join()</code></a> method to block the calling thread:
 <pre>
   <code>
   member.leave().join();
   </code>
 </pre>
 Alternatively, to execute the operation asynchronous and be notified once the lock is acquired in a different
 thread, use one of the many completable future callbacks:
 <pre>
   <code>
   member.leave().thenRun(() -&gt; System.out.println("Left the group!")));
   </code>
 </pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed once the member has left.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LocalGroupMember.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../io/atomix/coordination/LocalGroupConnection.html" title="class in io.atomix.coordination"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../io/atomix/coordination/LocalGroupTaskQueue.html" title="class in io.atomix.coordination"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?io/atomix/coordination/LocalGroupMember.html" target="_top">Frames</a></li>
<li><a href="LocalGroupMember.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013&#x2013;2016. All rights reserved.</small></p>
</body>
</html>
