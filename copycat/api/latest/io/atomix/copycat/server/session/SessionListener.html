<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SessionListener (Copycat API Reference (latest))</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SessionListener (Copycat API Reference (latest))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SessionListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../io/atomix/copycat/server/session/ServerSession.html" title="interface in io.atomix.copycat.server.session"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../io/atomix/copycat/server/session/Sessions.html" title="interface in io.atomix.copycat.server.session"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?io/atomix/copycat/server/session/SessionListener.html" target="_top">Frames</a></li>
<li><a href="SessionListener.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.atomix.copycat.server.session</div>
<h2 title="Interface SessionListener" class="title">Interface SessionListener</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">SessionListener</span></pre>
<div class="block">Support for listening for state changes in server sessions.
 <p>
 When implemented by a <a href="../../../../../io/atomix/copycat/server/StateMachine.html" title="class in io.atomix.copycat.server"><code>StateMachine</code></a>, this interface provides
 support to state machines for reacting to changes in the sessions connected to the cluster. State machines
 can react to clients <a href="../../../../../io/atomix/copycat/server/session/SessionListener.html#register-io.atomix.copycat.server.session.ServerSession-"><code>registering</code></a> and <a href="../../../../../io/atomix/copycat/server/session/SessionListener.html#unregister-io.atomix.copycat.server.session.ServerSession-"><code>unregistering</code></a>
 sessions and servers <a href="../../../../../io/atomix/copycat/server/session/SessionListener.html#expire-io.atomix.copycat.server.session.ServerSession-"><code>expiring</code></a> sessions.
 <p>
 <a href="../../../../../io/atomix/copycat/session/Session.html" title="interface in io.atomix.copycat.session"><code>Session</code></a>s represent a single client's open connection to a cluster. Within the context of a session,
 Copycat provides additional guarantees for clients like linearizability for writes and sequential consistency
 for reads. Additionally, state machines can push messages to specific clients via sessions. Typically, all
 state machines that rely on session-based messaging should implement this interface to track when a session
 is <code>closed</code>.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="http://github.com/kuujo>Jordan Halterman</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/atomix/copycat/server/session/SessionListener.html#close-io.atomix.copycat.server.session.ServerSession-">close</a></span>(<a href="../../../../../io/atomix/copycat/server/session/ServerSession.html" title="interface in io.atomix.copycat.server.session">ServerSession</a>&nbsp;session)</code>
<div class="block">Called when a session was closed.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/atomix/copycat/server/session/SessionListener.html#expire-io.atomix.copycat.server.session.ServerSession-">expire</a></span>(<a href="../../../../../io/atomix/copycat/server/session/ServerSession.html" title="interface in io.atomix.copycat.server.session">ServerSession</a>&nbsp;session)</code>
<div class="block">Called when a session is expired by the system.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/atomix/copycat/server/session/SessionListener.html#register-io.atomix.copycat.server.session.ServerSession-">register</a></span>(<a href="../../../../../io/atomix/copycat/server/session/ServerSession.html" title="interface in io.atomix.copycat.server.session">ServerSession</a>&nbsp;session)</code>
<div class="block">Called when a new session is registered.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/atomix/copycat/server/session/SessionListener.html#unregister-io.atomix.copycat.server.session.ServerSession-">unregister</a></span>(<a href="../../../../../io/atomix/copycat/server/session/ServerSession.html" title="interface in io.atomix.copycat.server.session">ServerSession</a>&nbsp;session)</code>
<div class="block">Called when a session is unregistered by the client.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="register-io.atomix.copycat.server.session.ServerSession-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre>void&nbsp;register(<a href="../../../../../io/atomix/copycat/server/session/ServerSession.html" title="interface in io.atomix.copycat.server.session">ServerSession</a>&nbsp;session)</pre>
<div class="block">Called when a new session is registered.
 <p>
 A session is registered when a new client connects to the cluster or an existing client recovers its
 session after being partitioned from the cluster. It's important to note that when this method is called,
 the <a href="../../../../../io/atomix/copycat/session/Session.html" title="interface in io.atomix.copycat.session"><code>Session</code></a> is <em>not yet open</em> and so events cannot be <a href="../../../../../io/atomix/copycat/server/session/ServerSession.html#publish-java.lang.String-java.lang.Object-"><code>published</code></a>
 to the registered session. This is because clients cannot reliably track messages pushed from server state machines
 to the client until the session has been fully registered. Session event messages may still be published to
 other already-registered sessions in reaction to a session being registered.
 <p>
 To push session event messages to a client through its session upon registration, state machines can
 use an asynchronous callback or schedule a callback to send a message.
 <pre>
   <code>
   public void register(Session session) {
     executor.execute(() -&gt; session.publish("foo", "Hello world!"));
   }
   </code>
 </pre>
 Sending a session event message in an asynchronous callback allows the server time to register the session
 and notify the client before the event message is sent. Published event messages sent via this method will
 be sent the next time an operation is applied to the state machine.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - The session that was registered.</dd>
</dl>
</li>
</ul>
<a name="unregister-io.atomix.copycat.server.session.ServerSession-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregister</h4>
<pre>void&nbsp;unregister(<a href="../../../../../io/atomix/copycat/server/session/ServerSession.html" title="interface in io.atomix.copycat.server.session">ServerSession</a>&nbsp;session)</pre>
<div class="block">Called when a session is unregistered by the client.
 <p>
 This method is called only when a client explicitly unregisters its session by closing it. In other words,
 calls to this method indicate that the session was closed by the client rather than <a href="../../../../../io/atomix/copycat/server/session/SessionListener.html#expire-io.atomix.copycat.server.session.ServerSession-"><code>expired</code></a>
 by a server. This method will always be called for a given session before <code>#close(Session)</code>, and
 <code>#close(Session)</code> will always be called following this method.
 <p>
 State machines are free to <a href="../../../../../io/atomix/copycat/server/session/ServerSession.html#publish-java.lang.String-java.lang.Object-"><code>ServerSession.publish(String, Object)</code></a> session event messages to any session except
 the one being unregistered. Session event messages sent to the session being unregistered will be lost.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - The session that was unregistered.</dd>
</dl>
</li>
</ul>
<a name="expire-io.atomix.copycat.server.session.ServerSession-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expire</h4>
<pre>void&nbsp;expire(<a href="../../../../../io/atomix/copycat/server/session/ServerSession.html" title="interface in io.atomix.copycat.server.session">ServerSession</a>&nbsp;session)</pre>
<div class="block">Called when a session is expired by the system.
 <p>
 This method is called when a client fails to keep its session alive with the cluster. If the leader hasn't heard
 from a client for a configurable time interval, the leader will expire the session to free the related memory.
 This method will always be called for a given session before <code>#close(Session)</code>, and <code>#close(Session)</code>
 will always be called following this method.
 <p>
 State machines are free to <a href="../../../../../io/atomix/copycat/server/session/ServerSession.html#publish-java.lang.String-java.lang.Object-"><code>ServerSession.publish(String, Object)</code></a> session event messages to any session except
 the one that expired. Session event messages sent to the session that expired will be lost.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - The session that was expired.</dd>
</dl>
</li>
</ul>
<a name="close-io.atomix.copycat.server.session.ServerSession-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;close(<a href="../../../../../io/atomix/copycat/server/session/ServerSession.html" title="interface in io.atomix.copycat.server.session">ServerSession</a>&nbsp;session)</pre>
<div class="block">Called when a session was closed.
 <p>
 This method is called after a <a href="../../../../../io/atomix/copycat/server/session/ServerSession.html" title="interface in io.atomix.copycat.server.session"><code>ServerSession</code></a> is either <a href="../../../../../io/atomix/copycat/server/session/SessionListener.html#unregister-io.atomix.copycat.server.session.ServerSession-"><code>unregistered</code></a> or
 <a href="../../../../../io/atomix/copycat/server/session/SessionListener.html#expire-io.atomix.copycat.server.session.ServerSession-"><code>expired</code></a>. State machines can implement this method to react to any session being
 removed from memory. This method will always be called for a specific session after either
 <a href="../../../../../io/atomix/copycat/server/session/SessionListener.html#unregister-io.atomix.copycat.server.session.ServerSession-"><code>unregister(ServerSession)</code></a> or <a href="../../../../../io/atomix/copycat/server/session/SessionListener.html#expire-io.atomix.copycat.server.session.ServerSession-"><code>expire(ServerSession)</code></a>, and one of those methods will always be called
 before this method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - The session that was closed.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SessionListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../io/atomix/copycat/server/session/ServerSession.html" title="interface in io.atomix.copycat.server.session"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../io/atomix/copycat/server/session/Sessions.html" title="interface in io.atomix.copycat.server.session"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?io/atomix/copycat/server/session/SessionListener.html" target="_top">Frames</a></li>
<li><a href="SessionListener.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013&#x2013;2016. All rights reserved.</small></p>
</body>
</html>
