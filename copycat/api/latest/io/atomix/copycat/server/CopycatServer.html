<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>CopycatServer (Copycat API Reference (latest))</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CopycatServer (Copycat API Reference (latest))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":9,"i4":9,"i5":9,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CopycatServer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/atomix/copycat/server/Commit.html" title="interface in io.atomix.copycat.server"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html" title="class in io.atomix.copycat.server"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/atomix/copycat/server/CopycatServer.html" target="_top">Frames</a></li>
<li><a href="CopycatServer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.atomix.copycat.server</div>
<h2 title="Class CopycatServer" class="title">Class CopycatServer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>io.atomix.copycat.server.CopycatServer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">CopycatServer</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Provides a standalone implementation of the <a href="http://raft.github.io/">Raft consensus algorithm</a>.
 <p>
 To create a new server, use the server <a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html" title="class in io.atomix.copycat.server"><code>CopycatServer.Builder</code></a>. Servers require
 cluster membership information in order to perform communication. Each server must be provided a local <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport"><code>Address</code></a>
 to which to bind the internal <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Server.html?is-external=true" title="class or interface in io.atomix.catalyst.transport"><code>Server</code></a> and a set of addresses for other members in
 the cluster.
 <h2>State machines</h2>
 Underlying each server is a <a href="../../../../io/atomix/copycat/server/StateMachine.html" title="class in io.atomix.copycat.server"><code>StateMachine</code></a>. The state machine is responsible for maintaining the state with
 relation to <a href="../../../../io/atomix/copycat/Command.html" title="interface in io.atomix.copycat"><code>Command</code></a>s and <a href="../../../../io/atomix/copycat/Query.html" title="interface in io.atomix.copycat"><code>Query</code></a>s submitted to the server by a client. State machines are provided
 in a factory to allow servers to transition between stateful and stateless states.
 <pre>
   <code>
   Address address = new Address("123.456.789.0", 5000);
   Collection&lt;Address&gt; members = Arrays.asList(new Address("123.456.789.1", 5000), new Address("123.456.789.2", 5000));

   CopycatServer server = CopycatServer.builder(address)
     .withStateMachine(MyStateMachine::new)
     .build();
   </code>
 </pre>
 Server state machines are responsible for registering <a href="../../../../io/atomix/copycat/Command.html" title="interface in io.atomix.copycat"><code>Command</code></a>s which can be submitted to the cluster. Raft
 relies upon determinism to ensure consistency throughout the cluster, so <em>it is imperative that each server in
 a cluster have the same state machine with the same commands.</em> State machines are provided to the server as
 a <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html?is-external=true" title="class or interface in java.util.function"><code>factory</code></a> to allow servers to <a href="../../../../io/atomix/copycat/server/cluster/Member.html#promote-io.atomix.copycat.server.cluster.Member.Type-"><code>transition</code></a> between stateful
 and stateless states.
 <h2>Transports</h2>
 By default, the server will use the <code>NettyTransport</code> for communication. You can configure the transport via
 <a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html#withTransport-io.atomix.catalyst.transport.Transport-"><code>CopycatServer.Builder.withTransport(Transport)</code></a>. To use the Netty transport, ensure you have the
 <code>io.atomix.catalyst:catalyst-netty</code> jar on your classpath.
 <pre>
 <code>
 CopycatServer server = CopycatServer.builder(address)
   .withStateMachine(MyStateMachine::new)
   .withTransport(NettyTransport.builder()
     .withThreads(4)
     .build())
   .build();
 </code>
 </pre>
 <h2>Storage</h2>
 As <a href="../../../../io/atomix/copycat/Command.html" title="interface in io.atomix.copycat"><code>Command</code></a>s are received by the server, they're written to the Raft <a href="../../../../io/atomix/copycat/server/storage/Log.html" title="class in io.atomix.copycat.server.storage"><code>Log</code></a> and replicated to other members
 of the cluster. By default, the log is stored on disk, but users can override the default <a href="../../../../io/atomix/copycat/server/storage/Storage.html" title="class in io.atomix.copycat.server.storage"><code>Storage</code></a> configuration
 via <a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html#withStorage-io.atomix.copycat.server.storage.Storage-"><code>CopycatServer.Builder.withStorage(Storage)</code></a>. Most notably, to configure the storage module to store entries in
 memory instead of disk, configure the <a href="../../../../io/atomix/copycat/server/storage/StorageLevel.html" title="enum in io.atomix.copycat.server.storage"><code>StorageLevel</code></a>.
 <pre>
 <code>
 CopycatServer server = CopycatServer.builder(address)
   .withStateMachine(MyStateMachine::new)
   .withStorage(Storage.builder()
     .withDirectory(new File("logs"))
     .withStorageLevel(StorageLevel.DISK)
     .build())
   .build();
 </code>
 </pre>
 Servers use the <code>Storage</code> object to manage the storage of cluster configurations, voting information, and
 state machine snapshots in addition to logs. See the <a href="../../../../io/atomix/copycat/server/storage/Storage.html" title="class in io.atomix.copycat.server.storage"><code>Storage</code></a> documentation for more information.
 <h2>Serialization</h2>
 All serialization is performed with a Catalyst <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/Serializer.html?is-external=true" title="class or interface in io.atomix.catalyst.serializer"><code>Serializer</code></a>. The serializer is shared across all components of
 the server. Users are responsible for ensuring that <a href="../../../../io/atomix/copycat/Command.html" title="interface in io.atomix.copycat"><code>commands</code></a> and <a href="../../../../io/atomix/copycat/Query.html" title="interface in io.atomix.copycat"><code>queries</code></a> submitted to the
 cluster can be serialized by the server serializer by registering serializable types as necessary.
 <p>
 By default, the server serializer does not allow arbitrary classes to be serialized due to security concerns. However,
 users can enable arbitrary class serialization by disabling the <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/Serializer.html?is-external=true#disableWhitelist--" title="class or interface in io.atomix.catalyst.serializer"><code>whitelisting feature</code></a>
 on the Catalyst <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/Serializer.html?is-external=true" title="class or interface in io.atomix.catalyst.serializer"><code>Serializer</code></a>:
 <pre>
   <code>
   server.serializer().disableWhitelist();
   </code>
 </pre>
 However, for more efficient serialization, users should explicitly register serializable classes and binary
 <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/TypeSerializer.html?is-external=true" title="class or interface in io.atomix.catalyst.serializer"><code>serializers</code></a>. Explicit registration of serializable types allows
 types to be serialized using more compact 8- 16- 24- and 32-bit serialization IDs rather than serializing complete
 class names. Thus, serializable type registration is strongly recommended for production systems.
 <pre>
   <code>
   server.serializer().register(MySerializable.class, 123, MySerializableSerializer.class);
   </code>
 </pre>
 <h2>Bootstrapping the cluster</h2>
 Once a server has been built, it must either be <a href="../../../../io/atomix/copycat/server/CopycatServer.html#bootstrap--"><code>bootstrapped</code></a> to form a new cluster or
 <a href="../../../../io/atomix/copycat/server/CopycatServer.html#join-io.atomix.catalyst.transport.Address...-"><code>joined</code></a> to an existing cluster. The simplest way to bootstrap a new cluster is to bootstrap
 a single server to which additional servers can be joined.
 <pre>
   <code>
   CompletableFuture&lt;CopycatServer&gt; future = server.bootstrap();
   future.thenRun(() -&gt; {
     System.out.println("Server bootstrapped!");
   });
   </code>
 </pre>
 Alternatively, the bootstrapped cluster can include multiple servers by providing an initial configuration to the
 <a href="../../../../io/atomix/copycat/server/CopycatServer.html#bootstrap-io.atomix.catalyst.transport.Address...-"><code>bootstrap(Address...)</code></a> method on each server. When bootstrapping a multi-node cluster, the bootstrap configuration
 must be identical on all servers for safety.
 <pre>
   <code>
     List&lt;Address&gt; cluster = Arrays.asList(
       new Address("123.456.789.0", 5000),
       new Address("123.456.789.1", 5000),
       new Address("123.456.789.2", 5000)
     );

     CompletableFuture&lt;CopycatServer&gt; future = server.bootstrap(cluster);
     future.thenRun(() -&gt; {
       System.out.println("Cluster bootstrapped");
     });
   </code>
 </pre>
 <h2>Adding a server to an existing cluster</h2>
 Once a single- or multi-node cluster has been <a href="../../../../io/atomix/copycat/server/CopycatServer.html#bootstrap--"><code>bootstrapped</code></a>, often times users need to
 add additional servers to the cluster. For example, some users prefer to bootstrap a single-node cluster and
 add additional nodes to that server. Servers can join existing bootstrapped clusters using the <a href="../../../../io/atomix/copycat/server/CopycatServer.html#join-io.atomix.catalyst.transport.Address...-"><code>join(Address...)</code></a>
 method. When joining an existing cluster, the server simply needs to specify at least one reachable server in the
 existing cluster.
 <pre>
   <code>
     CopycatServer server = CopycatServer.builder(new Address("123.456.789.3", 5000))
       .withTransport(NettyTransport.builder().withThreads(4).build())
       .build();

     List&lt;Address&gt; cluster = Arrays.asList(
       new Address("123.456.789.0", 5000),
       new Address("123.456.789.1", 5000),
       new Address("123.456.789.2", 5000)
     );

     CompletableFuture&lt;CopycatServer&gt; future = server.join(cluster);
     future.thenRun(() -&gt; {
       System.out.println("Server joined successfully!");
     });
   </code>
 </pre>
 <h2>Server types</h2>
 Servers form new clusters and join existing clusters as active Raft voting members by default. However, for
 large deployments Copycat also supports alternative types of nodes which are configured by setting the server
 <code>Member.Type</code>. For example, the <code>PASSIVE</code> server type does not participate
 directly in the Raft consensus algorithm and instead receives state changes via an asynchronous gossip protocol.
 This allows passive members to scale sequential reads beyond the typical three- or five-node Raft cluster. The
 <code>RESERVE</code> server type is a stateless server that can act as a standby to the stateful
 servers in the cluster, being <a href="../../../../io/atomix/copycat/server/cluster/Member.html#promote-io.atomix.copycat.server.cluster.Member.Type-"><code>promoted</code></a> to a stateful state when necessary.
 <p>
 Server types are defined in the server builder simply by passing the initial <code>Member.Type</code> to the
 <a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html#withType-io.atomix.copycat.server.cluster.Member.Type-"><code>CopycatServer.Builder.withType(Member.Type)</code></a> setter:
 <pre>
   <code>
   CopycatServer server = CopycatServer.builder(address)
     .withType(Member.Type.PASSIVE)
     .withTransport(new NettyTransport())
     .build();
   </code>
 </pre></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="http://github.com/kuujo">Jordan Halterman</a></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../io/atomix/copycat/server/StateMachine.html" title="class in io.atomix.copycat.server"><code>StateMachine</code></a>, 
<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Transport.html?is-external=true" title="class or interface in io.atomix.catalyst.transport"><code>Transport</code></a>, 
<a href="../../../../io/atomix/copycat/server/storage/Storage.html" title="class in io.atomix.copycat.server.storage"><code>Storage</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html" title="class in io.atomix.copycat.server">CopycatServer.Builder</a></span></code>
<div class="block">Builds a single-use Copycat server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.State.html" title="enum in io.atomix.copycat.server">CopycatServer.State</a></span></code>
<div class="block">Copycat server state types.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.html" title="class in io.atomix.copycat.server">CopycatServer</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#bootstrap--">bootstrap</a></span>()</code>
<div class="block">Bootstraps a single-node cluster.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.html" title="class in io.atomix.copycat.server">CopycatServer</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#bootstrap-io.atomix.catalyst.transport.Address...-">bootstrap</a></span>(<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>...&nbsp;cluster)</code>
<div class="block">Bootstraps the cluster using the provided cluster configuration.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.html" title="class in io.atomix.copycat.server">CopycatServer</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#bootstrap-java.util.Collection-">bootstrap</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>&gt;&nbsp;cluster)</code>
<div class="block">Bootstraps the cluster using the provided cluster configuration.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html" title="class in io.atomix.copycat.server">CopycatServer.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#builder--">builder</a></span>()</code>
<div class="block">Returns a new Copycat server builder using the default host:port.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html" title="class in io.atomix.copycat.server">CopycatServer.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#builder-io.atomix.catalyst.transport.Address-">builder</a></span>(<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>&nbsp;address)</code>
<div class="block">Returns a new Copycat server builder.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html" title="class in io.atomix.copycat.server">CopycatServer.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#builder-io.atomix.catalyst.transport.Address-io.atomix.catalyst.transport.Address-">builder</a></span>(<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>&nbsp;clientAddress,
       <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>&nbsp;serverAddress)</code>
<div class="block">Returns a new Copycat server builder.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../io/atomix/copycat/server/cluster/Cluster.html" title="interface in io.atomix.copycat.server.cluster">Cluster</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#cluster--">cluster</a></span>()</code>
<div class="block">Returns the server's cluster configuration.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/concurrent/ThreadContext.html?is-external=true" title="class or interface in io.atomix.catalyst.concurrent">ThreadContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#context--">context</a></span>()</code>
<div class="block">Returns the server execution context.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#isRunning--">isRunning</a></span>()</code>
<div class="block">Returns a boolean indicating whether the server is running.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.html" title="class in io.atomix.copycat.server">CopycatServer</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#join-io.atomix.catalyst.transport.Address...-">join</a></span>(<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>...&nbsp;cluster)</code>
<div class="block">Joins the cluster.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.html" title="class in io.atomix.copycat.server">CopycatServer</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#join-java.util.Collection-">join</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>&gt;&nbsp;cluster)</code>
<div class="block">Joins the cluster.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#leave--">leave</a></span>()</code>
<div class="block">Leaves the Copycat cluster.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#name--">name</a></span>()</code>
<div class="block">Returns the server name.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/concurrent/Listener.html?is-external=true" title="class or interface in io.atomix.catalyst.concurrent">Listener</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.State.html" title="enum in io.atomix.copycat.server">CopycatServer.State</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#onStateChange-java.util.function.Consumer-">onStateChange</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function">Consumer</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.State.html" title="enum in io.atomix.copycat.server">CopycatServer.State</a>&gt;&nbsp;listener)</code>
<div class="block">Registers a state change listener.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/Serializer.html?is-external=true" title="class or interface in io.atomix.catalyst.serializer">Serializer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#serializer--">serializer</a></span>()</code>
<div class="block">Returns the server's binary serializer which is shared among the protocol, state machine, and storage.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#shutdown--">shutdown</a></span>()</code>
<div class="block">Shuts down the server without leaving the Copycat cluster.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../io/atomix/copycat/server/CopycatServer.State.html" title="enum in io.atomix.copycat.server">CopycatServer.State</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#state--">state</a></span>()</code>
<div class="block">Returns the Copycat server state.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../io/atomix/copycat/server/storage/Storage.html" title="class in io.atomix.copycat.server.storage">Storage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/server/CopycatServer.html#storage--">storage</a></span>()</code>
<div class="block">Returns the server storage.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="builder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>builder</h4>
<pre>public static&nbsp;<a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html" title="class in io.atomix.copycat.server">CopycatServer.Builder</a>&nbsp;builder()</pre>
<div class="block">Returns a new Copycat server builder using the default host:port.
 <p>
 The server will be constructed at 0.0.0.0:8700.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The server builder.</dd>
</dl>
</li>
</ul>
<a name="builder-io.atomix.catalyst.transport.Address-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>builder</h4>
<pre>public static&nbsp;<a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html" title="class in io.atomix.copycat.server">CopycatServer.Builder</a>&nbsp;builder(<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>&nbsp;address)</pre>
<div class="block">Returns a new Copycat server builder.
 <p>
 The provided <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport"><code>Address</code></a> is the address to which to bind the server being constructed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>address</code> - The address through which clients and servers connect to this server.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The server builder.</dd>
</dl>
</li>
</ul>
<a name="builder-io.atomix.catalyst.transport.Address-io.atomix.catalyst.transport.Address-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>builder</h4>
<pre>public static&nbsp;<a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html" title="class in io.atomix.copycat.server">CopycatServer.Builder</a>&nbsp;builder(<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>&nbsp;clientAddress,
                                            <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>&nbsp;serverAddress)</pre>
<div class="block">Returns a new Copycat server builder.
 <p>
 The provided <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport"><code>Address</code></a>es are the client and server address to which to bind the server being
 constructed respectively.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientAddress</code> - The address through which clients connect to the server.</dd>
<dd><code>serverAddress</code> - The local server member address.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The server builder.</dd>
</dl>
</li>
</ul>
<a name="name--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name()</pre>
<div class="block">Returns the server name.
 <p>
 The server name is provided to the server via the <a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html#withName-java.lang.String-"><code>builder configuration</code></a>.
 The name is used internally to manage the server's on-disk state. <a href="../../../../io/atomix/copycat/server/storage/Log.html" title="class in io.atomix.copycat.server.storage"><code>Log</code></a>,
 <a href="../../../../io/atomix/copycat/server/storage/snapshot/SnapshotStore.html" title="class in io.atomix.copycat.server.storage.snapshot"><code>snapshot</code></a>,
 and <a href="../../../../io/atomix/copycat/server/storage/system/MetaStore.html" title="class in io.atomix.copycat.server.storage.system"><code>configuration</code></a> files stored on disk use
 the server name as the prefix.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The server name.</dd>
</dl>
</li>
</ul>
<a name="storage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storage</h4>
<pre>public&nbsp;<a href="../../../../io/atomix/copycat/server/storage/Storage.html" title="class in io.atomix.copycat.server.storage">Storage</a>&nbsp;storage()</pre>
<div class="block">Returns the server storage.
 <p>
 The returned <a href="../../../../io/atomix/copycat/server/storage/Storage.html" title="class in io.atomix.copycat.server.storage"><code>Storage</code></a> object is the object provided to the server via the <a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html#withStorage-io.atomix.copycat.server.storage.Storage-"><code>builder</code></a>
 configuration. The storage object is immutable and is intended to provide runtime configuration information only. Users
 should <em>never open logs, snapshots, or other storage related files</em> through the <a href="../../../../io/atomix/copycat/server/storage/Storage.html" title="class in io.atomix.copycat.server.storage"><code>Storage</code></a> API. Doing so
 can conflict with internal server operations, resulting in the loss of state.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The server storage.</dd>
</dl>
</li>
</ul>
<a name="cluster--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cluster</h4>
<pre>public&nbsp;<a href="../../../../io/atomix/copycat/server/cluster/Cluster.html" title="interface in io.atomix.copycat.server.cluster">Cluster</a>&nbsp;cluster()</pre>
<div class="block">Returns the server's cluster configuration.
 <p>
 The <a href="../../../../io/atomix/copycat/server/cluster/Cluster.html" title="interface in io.atomix.copycat.server.cluster"><code>Cluster</code></a> is representative of the server's current view of the cluster configuration. The first time
 the server is <a href="../../../../io/atomix/copycat/server/CopycatServer.html#bootstrap--"><code>started</code></a>, the cluster configuration will be initialized using the <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport"><code>Address</code></a>
 list provided to the server <a href="../../../../io/atomix/copycat/server/CopycatServer.html#builder-io.atomix.catalyst.transport.Address-"><code>builder</code></a>. For <a href="../../../../io/atomix/copycat/server/storage/StorageLevel.html#DISK"><code>persistent</code></a>
 servers, subsequent starts will result in the last known cluster configuration being loaded from disk.
 <p>
 The returned <a href="../../../../io/atomix/copycat/server/cluster/Cluster.html" title="interface in io.atomix.copycat.server.cluster"><code>Cluster</code></a> can be used to modify the state of the cluster to which this server belongs. Note,
 however, that users need not explicitly <a href="../../../../io/atomix/copycat/server/cluster/Cluster.html#join-io.atomix.catalyst.transport.Address...-"><code>join</code></a> or <a href="../../../../io/atomix/copycat/server/cluster/Cluster.html#leave--"><code>leave</code></a> the
 cluster since starting and stopping the server results in joining and leaving the cluster respectively.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The server's cluster configuration.</dd>
</dl>
</li>
</ul>
<a name="serializer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serializer</h4>
<pre>public&nbsp;<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/Serializer.html?is-external=true" title="class or interface in io.atomix.catalyst.serializer">Serializer</a>&nbsp;serializer()</pre>
<div class="block">Returns the server's binary serializer which is shared among the protocol, state machine, and storage.
 <p>
 The returned serializer is linked to all serialization performed within the Copycat server. Serializable types
 and associated <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/TypeSerializer.html?is-external=true" title="class or interface in io.atomix.catalyst.serializer"><code>serializers</code></a> that are
 <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/Serializer.html?is-external=true#register-java.lang.Class-" title="class or interface in io.atomix.catalyst.serializer"><code>registered</code></a> on the returned serializer will be reflected in serialization
 throughout the server, including in the state machine and logs.
 <p>
 By default, serializers support serialization of arbitrary classes and class names. However, this default
 serialization is significantly slower than explicitly registering serializable types since. Users should
 explicitly whitelist serializable types with the serializer to ensure the server can more efficiently serialize
 and deserialize required objects, including state machine <a href="../../../../io/atomix/copycat/Command.html" title="interface in io.atomix.copycat"><code>commands</code></a> and <a href="../../../../io/atomix/copycat/Query.html" title="interface in io.atomix.copycat"><code>queries</code></a> and
 any objects that need to be serialized within them.
 <pre>
   <code>
   server.serializer().register(MySerializableType.class, 123, MySerializableSerializer.class);
   </code>
 </pre>
 Alternatively, users can <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/Serializer.html?is-external=true#enableWhitelist--" title="class or interface in io.atomix.catalyst.serializer"><code>enabled whitelisting</code></a> in the Catalyst serializer
 to force serializable types to be explicitly registered.
 <pre>
   <code>
   server.serializer().enableWhitelist();
   </code>
 </pre>
 Whitelisting of serializable classes is recommended in insecure environments. The default disabled whitelisting
 presents security risks wherein arbitrary classes can be deserialized by malicious actors. See the <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/Serializer.html?is-external=true" title="class or interface in io.atomix.catalyst.serializer"><code>Serializer</code></a>
 documentation for more information.
 <p>
 <em>It's important to note that because the returned <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/Serializer.html?is-external=true" title="class or interface in io.atomix.catalyst.serializer"><code>Serializer</code></a> affects the on-disk binary representation
 of commands and queries and other objects submitted to the cluster, users must take care to avoid directly changing
 the binary format of serializable objects once they have been written to the server's logs. Doing so may result in
 errors during deserialization of objects in the log. To guard against this, serializable types can implement versioning
 by writing 8-bit version numbers as part of their normal serialization.</em></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The server serializer.</dd>
</dl>
</li>
</ul>
<a name="state--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>state</h4>
<pre>public&nbsp;<a href="../../../../io/atomix/copycat/server/CopycatServer.State.html" title="enum in io.atomix.copycat.server">CopycatServer.State</a>&nbsp;state()</pre>
<div class="block">Returns the Copycat server state.
 <p>
 The initial state of a Raft server is <a href="../../../../io/atomix/copycat/server/CopycatServer.State.html#INACTIVE"><code>CopycatServer.State.INACTIVE</code></a>. Once the server is <a href="../../../../io/atomix/copycat/server/CopycatServer.html#bootstrap--"><code>started</code></a> and
 until it is explicitly shutdown, the server will be in one of the active states - <a href="../../../../io/atomix/copycat/server/CopycatServer.State.html#PASSIVE"><code>CopycatServer.State.PASSIVE</code></a>,
 <a href="../../../../io/atomix/copycat/server/CopycatServer.State.html#FOLLOWER"><code>CopycatServer.State.FOLLOWER</code></a>, <a href="../../../../io/atomix/copycat/server/CopycatServer.State.html#CANDIDATE"><code>CopycatServer.State.CANDIDATE</code></a>, or <a href="../../../../io/atomix/copycat/server/CopycatServer.State.html#LEADER"><code>CopycatServer.State.LEADER</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The Copycat server state.</dd>
</dl>
</li>
</ul>
<a name="onStateChange-java.util.function.Consumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onStateChange</h4>
<pre>public&nbsp;<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/concurrent/Listener.html?is-external=true" title="class or interface in io.atomix.catalyst.concurrent">Listener</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.State.html" title="enum in io.atomix.copycat.server">CopycatServer.State</a>&gt;&nbsp;onStateChange(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function">Consumer</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.State.html" title="enum in io.atomix.copycat.server">CopycatServer.State</a>&gt;&nbsp;listener)</pre>
<div class="block">Registers a state change listener.
 <p>
 Throughout the lifetime of the cluster, the server will periodically transition between various <a href="../../../../io/atomix/copycat/server/CopycatServer.State.html" title="enum in io.atomix.copycat.server"><code>states</code></a>.
 Users can listen for and react to state change events. To determine when this server is elected leader, simply
 listen for the <a href="../../../../io/atomix/copycat/server/CopycatServer.State.html#LEADER"><code>CopycatServer.State.LEADER</code></a> state.
 <pre>
   <code>
   server.onStateChange(state -&gt; {
     if (state == CopycatServer.State.LEADER) {
       System.out.println("Server elected leader!");
     }
   });
   </code>
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - The state change listener.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The listener context. This can be used to unregister the election listener via
 <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/concurrent/Listener.html?is-external=true#close--" title="class or interface in io.atomix.catalyst.concurrent"><code>Listener.close()</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - If <code>listener</code> is <code>null</code></dd>
</dl>
</li>
</ul>
<a name="context--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>context</h4>
<pre>public&nbsp;<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/concurrent/ThreadContext.html?is-external=true" title="class or interface in io.atomix.catalyst.concurrent">ThreadContext</a>&nbsp;context()</pre>
<div class="block">Returns the server execution context.
 <p>
 The thread context is the event loop that this server uses to communicate other Raft servers.
 Implementations must guarantee that all asynchronous <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> callbacks are
 executed on a single thread via the returned <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/concurrent/ThreadContext.html?is-external=true" title="class or interface in io.atomix.catalyst.concurrent"><code>ThreadContext</code></a>.
 <p>
 The <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/concurrent/ThreadContext.html?is-external=true" title="class or interface in io.atomix.catalyst.concurrent"><code>ThreadContext</code></a> can also be used to access the Raft server's internal
 <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/Serializer.html?is-external=true" title="class or interface in io.atomix.catalyst.serializer"><code>serializer</code></a> via <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/concurrent/ThreadContext.html?is-external=true#serializer--" title="class or interface in io.atomix.catalyst.concurrent"><code>ThreadContext.serializer()</code></a>. Catalyst serializers
 are not thread safe, so to use the context serializer, users should clone it:
 <pre>
   <code>
   Serializer serializer = server.threadContext().serializer().clone();
   Buffer buffer = serializer.writeObject(myObject).flip();
   </code>
 </pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The server thread context.</dd>
</dl>
</li>
</ul>
<a name="bootstrap--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bootstrap</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.html" title="class in io.atomix.copycat.server">CopycatServer</a>&gt;&nbsp;bootstrap()</pre>
<div class="block">Bootstraps a single-node cluster.
 <p>
 Bootstrapping a single-node cluster results in the server forming a new cluster to which additional servers
 can be joined.
 <p>
 Only <code>Member.Type#ACTIVE</code> members can be included in a bootstrap configuration. If the local server is
 not initialized as an active member, it cannot be part of the bootstrap configuration for the cluster.
 <p>
 When the cluster is bootstrapped, the local server will be transitioned into the active state and begin
 participating in the Raft consensus algorithm. When the cluster is first bootstrapped, no leader will exist.
 The bootstrapped members will elect a leader amongst themselves. Once a cluster has been bootstrapped, additional
 members may be <a href="../../../../io/atomix/copycat/server/CopycatServer.html#join-io.atomix.catalyst.transport.Address...-"><code>joined</code></a> to the cluster. In the event that the bootstrapped members cannot
 reach a quorum to elect a leader, bootstrap will continue until successful.
 <p>
 It is critical that all servers in a bootstrap configuration be started with the same exact set of members.
 Bootstrapping multiple servers with different configurations may result in split brain.
 <p>
 The <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> returned by this method will be completed once the cluster has been bootstrapped,
 a leader has been elected, and the leader has been notified of the local server's client configurations.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed once the cluster has been bootstrapped.</dd>
</dl>
</li>
</ul>
<a name="bootstrap-io.atomix.catalyst.transport.Address...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bootstrap</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.html" title="class in io.atomix.copycat.server">CopycatServer</a>&gt;&nbsp;bootstrap(<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>...&nbsp;cluster)</pre>
<div class="block">Bootstraps the cluster using the provided cluster configuration.
 <p>
 Bootstrapping the cluster results in a new cluster being formed with the provided configuration. The initial
 nodes in a cluster must always be bootstrapped. This is necessary to prevent split brain. If the provided
 configuration is empty, the local server will form a single-node cluster.
 <p>
 Only <code>Member.Type#ACTIVE</code> members can be included in a bootstrap configuration. If the local server is
 not initialized as an active member, it cannot be part of the bootstrap configuration for the cluster.
 <p>
 When the cluster is bootstrapped, the local server will be transitioned into the active state and begin
 participating in the Raft consensus algorithm. When the cluster is first bootstrapped, no leader will exist.
 The bootstrapped members will elect a leader amongst themselves. Once a cluster has been bootstrapped, additional
 members may be <a href="../../../../io/atomix/copycat/server/CopycatServer.html#join-io.atomix.catalyst.transport.Address...-"><code>joined</code></a> to the cluster. In the event that the bootstrapped members cannot
 reach a quorum to elect a leader, bootstrap will continue until successful.
 <p>
 It is critical that all servers in a bootstrap configuration be started with the same exact set of members.
 Bootstrapping multiple servers with different configurations may result in split brain.
 <p>
 The <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> returned by this method will be completed once the cluster has been bootstrapped,
 a leader has been elected, and the leader has been notified of the local server's client configurations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cluster</code> - The bootstrap cluster configuration.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed once the cluster has been bootstrapped.</dd>
</dl>
</li>
</ul>
<a name="bootstrap-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bootstrap</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.html" title="class in io.atomix.copycat.server">CopycatServer</a>&gt;&nbsp;bootstrap(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>&gt;&nbsp;cluster)</pre>
<div class="block">Bootstraps the cluster using the provided cluster configuration.
 <p>
 Bootstrapping the cluster results in a new cluster being formed with the provided configuration. The initial
 nodes in a cluster must always be bootstrapped. This is necessary to prevent split brain. If the provided
 configuration is empty, the local server will form a single-node cluster.
 <p>
 Only <code>Member.Type#ACTIVE</code> members can be included in a bootstrap configuration. If the local server is
 not initialized as an active member, it cannot be part of the bootstrap configuration for the cluster.
 <p>
 When the cluster is bootstrapped, the local server will be transitioned into the active state and begin
 participating in the Raft consensus algorithm. When the cluster is first bootstrapped, no leader will exist.
 The bootstrapped members will elect a leader amongst themselves. Once a cluster has been bootstrapped, additional
 members may be <a href="../../../../io/atomix/copycat/server/CopycatServer.html#join-io.atomix.catalyst.transport.Address...-"><code>joined</code></a> to the cluster. In the event that the bootstrapped members cannot
 reach a quorum to elect a leader, bootstrap will continue until successful.
 <p>
 It is critical that all servers in a bootstrap configuration be started with the same exact set of members.
 Bootstrapping multiple servers with different configurations may result in split brain.
 <p>
 The <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> returned by this method will be completed once the cluster has been bootstrapped,
 a leader has been elected, and the leader has been notified of the local server's client configurations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cluster</code> - The bootstrap cluster configuration.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed once the cluster has been bootstrapped.</dd>
</dl>
</li>
</ul>
<a name="join-io.atomix.catalyst.transport.Address...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>join</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.html" title="class in io.atomix.copycat.server">CopycatServer</a>&gt;&nbsp;join(<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>...&nbsp;cluster)</pre>
<div class="block">Joins the cluster.
 <p>
 Joining the cluster results in the local server being added to an existing cluster that has already been
 bootstrapped. The provided configuration will be used to connect to the existing cluster and submit a join
 request. Once the server has been added to the existing cluster's configuration, the join operation is complete.
 <p>
 Any <code>type</code> of server may join a cluster. In order to join a cluster, the provided list of
 bootstrapped members must be non-empty and must include at least one active member of the cluster. If no member
 in the configuration is reachable, the server will continue to attempt to join the cluster until successful. If
 the provided cluster configuration is empty, the returned <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> will be completed exceptionally.
 <p>
 When the server joins the cluster, the local server will be transitioned into its initial state as defined by
 the configured <code>Member.Type</code>. Once the server has joined, it will immediately begin participating in
 Raft and asynchronous replication according to its configuration.
 <p>
 It's important to note that the provided cluster configuration will only be used the first time the server attempts
 to join the cluster. Thereafter, in the event that the server crashes and is restarted by <code>join</code>ing the cluster
 again, the last known configuration will be used assuming the server is configured with persistent storage. Only when
 the server leaves the cluster will its configuration and log be reset.
 <p>
 In order to preserve safety during configuration changes, Copycat leaders do not allow concurrent configuration
 changes. In the event that an existing configuration change (a server joining or leaving the cluster or a
 member being <a href="../../../../io/atomix/copycat/server/cluster/Member.html#promote--"><code>promoted</code></a> or <a href="../../../../io/atomix/copycat/server/cluster/Member.html#demote--"><code>demoted</code></a>) is under way, the local
 server will retry attempts to join the cluster until successful. If the server fails to reach the leader,
 the join will be retried until successful.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cluster</code> - A collection of cluster member addresses to join.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed once the local server has joined the cluster.</dd>
</dl>
</li>
</ul>
<a name="join-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>join</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../io/atomix/copycat/server/CopycatServer.html" title="class in io.atomix.copycat.server">CopycatServer</a>&gt;&nbsp;join(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Address</a>&gt;&nbsp;cluster)</pre>
<div class="block">Joins the cluster.
 <p>
 Joining the cluster results in the local server being added to an existing cluster that has already been
 bootstrapped. The provided configuration will be used to connect to the existing cluster and submit a join
 request. Once the server has been added to the existing cluster's configuration, the join operation is complete.
 <p>
 Any <code>type</code> of server may join a cluster. In order to join a cluster, the provided list of
 bootstrapped members must be non-empty and must include at least one active member of the cluster. If no member
 in the configuration is reachable, the server will continue to attempt to join the cluster until successful. If
 the provided cluster configuration is empty, the returned <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> will be completed exceptionally.
 <p>
 When the server joins the cluster, the local server will be transitioned into its initial state as defined by
 the configured <code>Member.Type</code>. Once the server has joined, it will immediately begin participating in
 Raft and asynchronous replication according to its configuration.
 <p>
 It's important to note that the provided cluster configuration will only be used the first time the server attempts
 to join the cluster. Thereafter, in the event that the server crashes and is restarted by <code>join</code>ing the cluster
 again, the last known configuration will be used assuming the server is configured with persistent storage. Only when
 the server leaves the cluster will its configuration and log be reset.
 <p>
 In order to preserve safety during configuration changes, Copycat leaders do not allow concurrent configuration
 changes. In the event that an existing configuration change (a server joining or leaving the cluster or a
 member being <a href="../../../../io/atomix/copycat/server/cluster/Member.html#promote--"><code>promoted</code></a> or <a href="../../../../io/atomix/copycat/server/cluster/Member.html#demote--"><code>demoted</code></a>) is under way, the local
 server will retry attempts to join the cluster until successful. If the server fails to reach the leader,
 the join will be retried until successful.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cluster</code> - A collection of cluster member addresses to join.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed once the local server has joined the cluster.</dd>
</dl>
</li>
</ul>
<a name="isRunning--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRunning</h4>
<pre>public&nbsp;boolean&nbsp;isRunning()</pre>
<div class="block">Returns a boolean indicating whether the server is running.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Indicates whether the server is running.</dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;shutdown()</pre>
<div class="block">Shuts down the server without leaving the Copycat cluster.
 <p>
 When the server is shutdown, the underlying <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Transport.html?is-external=true" title="class or interface in io.atomix.catalyst.transport"><code>Transport</code></a> will be <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Transport.html?is-external=true#close--" title="class or interface in io.atomix.catalyst.transport"><code>closed</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed once the server has been shutdown.</dd>
</dl>
</li>
</ul>
<a name="leave--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>leave</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;leave()</pre>
<div class="block">Leaves the Copycat cluster.
 <p>
 When the server is stopped, the underlying <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Transport.html?is-external=true" title="class or interface in io.atomix.catalyst.transport"><code>Transport</code></a> will be <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Transport.html?is-external=true#close--" title="class or interface in io.atomix.catalyst.transport"><code>closed</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed once the server has left the cluster.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CopycatServer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/atomix/copycat/server/Commit.html" title="interface in io.atomix.copycat.server"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/atomix/copycat/server/CopycatServer.Builder.html" title="class in io.atomix.copycat.server"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/atomix/copycat/server/CopycatServer.html" target="_top">Frames</a></li>
<li><a href="CopycatServer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013&#x2013;2017. All rights reserved.</small></p>
</body>
</html>
