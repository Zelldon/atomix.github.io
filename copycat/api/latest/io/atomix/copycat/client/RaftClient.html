<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RaftClient (Copycat API Reference (latest))</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RaftClient (Copycat API Reference (latest))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":18,"i9":6,"i10":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RaftClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/atomix/copycat/client/Query.ConsistencyLevel.html" title="enum in io.atomix.copycat.client"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/atomix/copycat/client/RecoveryStrategies.html" title="enum in io.atomix.copycat.client"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/atomix/copycat/client/RaftClient.html" target="_top">Frames</a></li>
<li><a href="RaftClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.atomix.copycat.client</div>
<h2 title="Interface RaftClient" class="title">Interface RaftClient</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Managed.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Managed</a>&lt;<a href="../../../../io/atomix/copycat/client/RaftClient.html" title="interface in io.atomix.copycat.client">RaftClient</a>&gt;</dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../io/atomix/copycat/client/CopycatClient.html" title="class in io.atomix.copycat.client">CopycatClient</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">RaftClient</span>
extends <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Managed.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Managed</a>&lt;<a href="../../../../io/atomix/copycat/client/RaftClient.html" title="interface in io.atomix.copycat.client">RaftClient</a>&gt;</pre>
<div class="block">Provides an interface for submitting <a href="../../../../io/atomix/copycat/client/Command.html" title="interface in io.atomix.copycat.client"><code>commands</code></a> and <a href="../../../../io/atomix/copycat/client/Query.html" title="interface in io.atomix.copycat.client"><code>Query</code></a> queries to the Raft cluster.
 <p>
 Raft clients are responsible for connecting to the cluster and submitting <a href="../../../../io/atomix/copycat/client/Command.html" title="interface in io.atomix.copycat.client"><code>commands</code></a> and <a href="../../../../io/atomix/copycat/client/Query.html" title="interface in io.atomix.copycat.client"><code>queries</code></a>
 that operate on the cluster's replicated state machine. Raft clients interact with one or more nodes in a Raft cluster
 through a session. When the client is <a href="../../../../io/atomix/copycat/client/RaftClient.html#open--"><code>opened</code></a>, the client will attempt to one of the known member
 <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport"><code>Address</code></a> provided to the builder. As long as the client can communicate with at least one correct member of the
 cluster, it can open a session. Once the client is able to register a <a href="../../../../io/atomix/copycat/client/session/Session.html" title="interface in io.atomix.copycat.client.session"><code>Session</code></a>, it will receive an updated list
 of members for the entire cluster and thereafter be allowed to communicate with all servers.
 <p>
 Sessions are created by registering the client through the cluster leader. Clients always connect to a single node in the
 cluster, and in the event of a node failure or partition, the client will detect the failure and reconnect to a correct server.
 <p>
 Clients periodically send <em>keep-alive</em> requests to the server to which they're connected. The keep-alive request
 interval is determined by the cluster's session timeout, and the session timeout is determined by the leader's configuration
 at the time that the session is registered. This ensures that clients cannot be misconfigured with a keep-alive interval
 greater than the cluster's session timeout.
 <p>
 Clients communicate with the distributed state machine by submitting <a href="../../../../io/atomix/copycat/client/Command.html" title="interface in io.atomix.copycat.client"><code>commands</code></a> and <a href="../../../../io/atomix/copycat/client/Query.html" title="interface in io.atomix.copycat.client"><code>queries</code></a> to
 the cluster through the <a href="../../../../io/atomix/copycat/client/RaftClient.html#submit-io.atomix.copycat.client.Command-"><code>submit(Command)</code></a> and <a href="../../../../io/atomix/copycat/client/RaftClient.html#submit-io.atomix.copycat.client.Query-"><code>submit(Query)</code></a> methods respectively:
 <pre>
   <code>
   client.submit(new PutCommand("foo", "Hello world!")).thenAccept(result -&gt; {
     System.out.println("Result is " + result);
   });
   </code>
 </pre>
 All client methods are fully asynchronous and return <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a>. To block until a method is complete, use
 the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true#get--" title="class or interface in java.util.concurrent"><code>CompletableFuture.get()</code></a> or <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true#join--" title="class or interface in java.util.concurrent"><code>CompletableFuture.join()</code></a> methods.
 <p>
 Sessions work to provide linearizable semantics for client <a href="../../../../io/atomix/copycat/client/Command.html" title="interface in io.atomix.copycat.client"><code>commands</code></a>. When a command is submitted to the cluster,
 the command will be forwarded to the leader where it will be logged and replicated. Once the command is stored on a majority
 of servers, the leader will apply it to its state machine and respond according to the command's <a href="../../../../io/atomix/copycat/client/Command.html#consistency--"><code>Command.consistency()</code></a>.
 See the <a href="../../../../io/atomix/copycat/client/Command.ConsistencyLevel.html" title="enum in io.atomix.copycat.client"><code>Command.ConsistencyLevel</code></a> documentation for more info.
 <p>
 Sessions also allow <a href="../../../../io/atomix/copycat/client/Query.html" title="interface in io.atomix.copycat.client"><code>queries</code></a> (read-only requests) submitted by the client to optionally be executed on follower
 nodes. When a query is submitted to the cluster, the query's <a href="../../../../io/atomix/copycat/client/Query.html#consistency--"><code>Query.consistency()</code></a> will be used to determine how the
 query is handled. For queries with stronger consistency levels, they will be forwarded to the cluster's leader. For weaker
 consistency queries, they may be executed on follower nodes according to the consistency level constraints. See the
 <a href="../../../../io/atomix/copycat/client/Query.ConsistencyLevel.html" title="enum in io.atomix.copycat.client"><code>Query.ConsistencyLevel</code></a> documentation for more info.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="http://github.com/kuujo>Jordan Halterman</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/client/RaftClient.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/concurrent/ThreadContext.html?is-external=true" title="class or interface in io.atomix.catalyst.util.concurrent">ThreadContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/client/RaftClient.html#context--">context</a></span>()</code>
<div class="block">Returns the client execution context.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/client/RaftClient.html#isClosed--">isClosed</a></span>()</code>
<div class="block">Returns a boolean value indicating whether the client is closed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/client/RaftClient.html#isOpen--">isOpen</a></span>()</code>
<div class="block">Returns a boolean value indicating whether the client is open.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../io/atomix/copycat/client/RaftClient.html" title="interface in io.atomix.copycat.client">RaftClient</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/client/RaftClient.html#open--">open</a></span>()</code>
<div class="block">Connects the client to the Raft cluster.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/Serializer.html?is-external=true" title="class or interface in io.atomix.catalyst.serializer">Serializer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/client/RaftClient.html#serializer--">serializer</a></span>()</code>
<div class="block">Returns the client serializer.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../io/atomix/copycat/client/session/Session.html" title="interface in io.atomix.copycat.client.session">Session</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/client/RaftClient.html#session--">session</a></span>()</code>
<div class="block">Returns the client session.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/client/RaftClient.html#submit-io.atomix.copycat.client.Command-">submit</a></span>(<a href="../../../../io/atomix/copycat/client/Command.html" title="interface in io.atomix.copycat.client">Command</a>&lt;T&gt;&nbsp;command)</code>
<div class="block">Submits a command to the Raft cluster.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>default &lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/client/RaftClient.html#submit-io.atomix.copycat.client.Operation-">submit</a></span>(<a href="../../../../io/atomix/copycat/client/Operation.html" title="interface in io.atomix.copycat.client">Operation</a>&lt;T&gt;&nbsp;operation)</code>
<div class="block">Submits an operation to the Raft cluster.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/client/RaftClient.html#submit-io.atomix.copycat.client.Query-">submit</a></span>(<a href="../../../../io/atomix/copycat/client/Query.html" title="interface in io.atomix.copycat.client">Query</a>&lt;T&gt;&nbsp;query)</code>
<div class="block">Submits a query to the Raft cluster.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Transport.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Transport</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/atomix/copycat/client/RaftClient.html#transport--">transport</a></span>()</code>
<div class="block">Returns the client transport.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="context--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>context</h4>
<pre><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/concurrent/ThreadContext.html?is-external=true" title="class or interface in io.atomix.catalyst.util.concurrent">ThreadContext</a>&nbsp;context()</pre>
<div class="block">Returns the client execution context.
 <p>
 The thread context is the event loop that this client uses to communicate Raft servers.
 Implementations must guarantee that all asynchronous <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> callbacks are
 executed on a single thread via the returned <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/concurrent/ThreadContext.html?is-external=true" title="class or interface in io.atomix.catalyst.util.concurrent"><code>ThreadContext</code></a>.
 <p>
 The <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/concurrent/ThreadContext.html?is-external=true" title="class or interface in io.atomix.catalyst.util.concurrent"><code>ThreadContext</code></a> can also be used to access the Raft client's internal
 <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/Serializer.html?is-external=true" title="class or interface in io.atomix.catalyst.serializer"><code>serializer</code></a> via <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/concurrent/ThreadContext.html?is-external=true#serializer--" title="class or interface in io.atomix.catalyst.util.concurrent"><code>ThreadContext.serializer()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The client thread context.</dd>
</dl>
</li>
</ul>
<a name="transport--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transport</h4>
<pre><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Transport.html?is-external=true" title="class or interface in io.atomix.catalyst.transport">Transport</a>&nbsp;transport()</pre>
<div class="block">Returns the client transport.
 <p>
 The transport is the mechanism through which the client communicates with the cluster. The transport cannot
 be used to access client internals, but it serves only as a mechanism for providing users with the same
 transport/protocol used by the client.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The client transport.</dd>
</dl>
</li>
</ul>
<a name="serializer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serializer</h4>
<pre><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/serializer/Serializer.html?is-external=true" title="class or interface in io.atomix.catalyst.serializer">Serializer</a>&nbsp;serializer()</pre>
<div class="block">Returns the client serializer.
 <p>
 The serializer can be used to manually register serializable types for submitted <a href="../../../../io/atomix/copycat/client/Command.html" title="interface in io.atomix.copycat.client"><code>commands</code></a> and
 <a href="../../../../io/atomix/copycat/client/Query.html" title="interface in io.atomix.copycat.client"><code>queries</code></a>.
 <pre>
   <code>
     client.serializer().register(MyObject.class, 1);
     client.serializer().register(MyOtherObject.class, new MyOtherObjectSerializer(), 2);
   </code>
 </pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The client operation serializer.</dd>
</dl>
</li>
</ul>
<a name="session--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>session</h4>
<pre><a href="../../../../io/atomix/copycat/client/session/Session.html" title="interface in io.atomix.copycat.client.session">Session</a>&nbsp;session()</pre>
<div class="block">Returns the client session.
 <p>
 The <a href="../../../../io/atomix/copycat/client/session/Session.html" title="interface in io.atomix.copycat.client.session"><code>Session</code></a> object can be used to receive session events from replicated state machines. Session events are
 named messages. To register a session event handler, use the <a href="../../../../io/atomix/copycat/client/session/Session.html#onEvent-java.lang.String-java.util.function.Consumer-"><code>Session.onEvent(String, Consumer)</code></a> method:
 <pre>
   <code>
   client.session().onEvent("lock", v -&gt; System.out.println("acquired lock!"));
   </code>
 </pre>
 When a server-side state machine <a href="../../../../io/atomix/copycat/client/session/Session.html#publish-java.lang.String-java.lang.Object-"><code>publishes</code></a> an event message to this session, the
 event message is guaranteed to be received in the order in which it was sent by the state machine. Note that the point
 in time at which events are received by the client is determined by the <a href="../../../../io/atomix/copycat/client/Command.html#consistency--"><code>Command.consistency()</code></a> of the command being
 executed when the state machine published the event. Events are not necessarily guaranteed to be received by the client
 during command execution. See the <a href="../../../../io/atomix/copycat/client/Command.ConsistencyLevel.html" title="enum in io.atomix.copycat.client"><code>Command.ConsistencyLevel</code></a> documentation for more info.
 <p>
 The returned <a href="../../../../io/atomix/copycat/client/session/Session.html" title="interface in io.atomix.copycat.client.session"><code>Session</code></a> instance will remain constant as long as the client maintains its session with the cluster.
 Maintaining the client's session requires that the client be able to communicate with one server that can communicate
 with the leader at any given time. During periods where the cluster is electing a new leader, the client's session will
 not timeout but will resume once a new leader is elected.
 <p>
 Once the client connects to the cluster and opens its session, session listeners registered via <a href="../../../../io/atomix/copycat/client/session/Session.html#onOpen-java.util.function.Consumer-"><code>Session.onOpen(Consumer)</code></a>
 will be called. In the event of a session expiration wherein the client fails to communicate with the cluster for at least
 a session timeout, the session will be expired and listeners registered via <a href="../../../../io/atomix/copycat/client/session/Session.html#onClose-java.util.function.Consumer-"><code>Session.onClose(Consumer)</code></a> will be called.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The client session or <code>null</code> if no session is open.</dd>
</dl>
</li>
</ul>
<a name="submit-io.atomix.copycat.client.Operation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submit</h4>
<pre>default&nbsp;&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;T&gt;&nbsp;submit(<a href="../../../../io/atomix/copycat/client/Operation.html" title="interface in io.atomix.copycat.client">Operation</a>&lt;T&gt;&nbsp;operation)</pre>
<div class="block">Submits an operation to the Raft cluster.
 <p>
 This method is provided for convenience. The submitted <a href="../../../../io/atomix/copycat/client/Operation.html" title="interface in io.atomix.copycat.client"><code>Operation</code></a> must be an instance
 of <a href="../../../../io/atomix/copycat/client/Command.html" title="interface in io.atomix.copycat.client"><code>Command</code></a> or <a href="../../../../io/atomix/copycat/client/Query.html" title="interface in io.atomix.copycat.client"><code>Query</code></a>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The operation result type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>operation</code> - The operation to submit.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed with the operation result.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - If the <a href="../../../../io/atomix/copycat/client/Operation.html" title="interface in io.atomix.copycat.client"><code>Operation</code></a> is not an instance of <a href="../../../../io/atomix/copycat/client/Command.html" title="interface in io.atomix.copycat.client"><code>Command</code></a> or <a href="../../../../io/atomix/copycat/client/Query.html" title="interface in io.atomix.copycat.client"><code>Query</code></a>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <code>operation</code> is null</dd>
</dl>
</li>
</ul>
<a name="submit-io.atomix.copycat.client.Command-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submit</h4>
<pre>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;T&gt;&nbsp;submit(<a href="../../../../io/atomix/copycat/client/Command.html" title="interface in io.atomix.copycat.client">Command</a>&lt;T&gt;&nbsp;command)</pre>
<div class="block">Submits a command to the Raft cluster.
 <p>
 Commands are used to alter state machine state. All commands will be forwarded to the current Raft leader.
 Once a leader receives the command, it will write the command to its internal <code>Log</code> and replicate it to a majority
 of the cluster. Once the command has been replicated to a majority of the cluster, it will apply the command to its
 <code>StateMachine</code> and respond with the result.
 <p>
 Once the command has been applied to a server state machine, the returned <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a>
 will be completed with the state machine output.
 <p>
 Note that all client submissions are guaranteed to be completed in the same order in which they were sent (program order)
 and on the same thread. This does not, however, mean that they'll be applied to the server-side replicated state machine
 in that order. State machine order is dependent on the configured <a href="../../../../io/atomix/copycat/client/Command.ConsistencyLevel.html" title="enum in io.atomix.copycat.client"><code>Command.ConsistencyLevel</code></a>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The command result type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>command</code> - The command to submit.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed with the command result. The future is guaranteed to be completed after all
 <a href="../../../../io/atomix/copycat/client/Command.html" title="interface in io.atomix.copycat.client"><code>Command</code></a> or <a href="../../../../io/atomix/copycat/client/Query.html" title="interface in io.atomix.copycat.client"><code>Query</code></a> submission futures that preceded it. The future will always be completed on the
 <a href="../../../../io/atomix/copycat/client/RaftClient.html#context--"><code>context()</code></a> thread.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <code>command</code> is null</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <a href="../../../../io/atomix/copycat/client/RaftClient.html#session--"><code>session()</code></a> is not open</dd>
</dl>
</li>
</ul>
<a name="submit-io.atomix.copycat.client.Query-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submit</h4>
<pre>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;T&gt;&nbsp;submit(<a href="../../../../io/atomix/copycat/client/Query.html" title="interface in io.atomix.copycat.client">Query</a>&lt;T&gt;&nbsp;query)</pre>
<div class="block">Submits a query to the Raft cluster.
 <p>
 Queries are used to read state machine state. The behavior of query submissions is primarily dependent on the
 query's <a href="../../../../io/atomix/copycat/client/Query.ConsistencyLevel.html" title="enum in io.atomix.copycat.client"><code>Query.ConsistencyLevel</code></a>. For <a href="../../../../io/atomix/copycat/client/Query.ConsistencyLevel.html#LINEARIZABLE"><code>Query.ConsistencyLevel.LINEARIZABLE</code></a>
 and <a href="../../../../io/atomix/copycat/client/Query.ConsistencyLevel.html#BOUNDED_LINEARIZABLE"><code>Query.ConsistencyLevel.BOUNDED_LINEARIZABLE</code></a> consistency levels, queries will be forwarded
 to the Raft leader. For lower consistency levels, queries are allowed to read from followers. All queries are executed
 by applying queries to an internal server state machine.
 <p>
 Once the query has been applied to a server state machine, the returned <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a>
 will be completed with the state machine output.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The query result type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - The query to submit.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed with the query result. The future is guaranteed to be completed after all
 <a href="../../../../io/atomix/copycat/client/Command.html" title="interface in io.atomix.copycat.client"><code>Command</code></a> or <a href="../../../../io/atomix/copycat/client/Query.html" title="interface in io.atomix.copycat.client"><code>Query</code></a> submission futures that preceded it. The future will always be completed on the
 <a href="../../../../io/atomix/copycat/client/RaftClient.html#context--"><code>context()</code></a> thread.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <code>query</code> is null</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <a href="../../../../io/atomix/copycat/client/RaftClient.html#session--"><code>session()</code></a> is not open</dd>
</dl>
</li>
</ul>
<a name="open--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="../../../../io/atomix/copycat/client/RaftClient.html" title="interface in io.atomix.copycat.client">RaftClient</a>&gt;&nbsp;open()</pre>
<div class="block">Connects the client to the Raft cluster.
 <p>
 When the client is opened, it will attempt to connect to and open a session with each unique configured server
 <a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/transport/Address.html?is-external=true" title="class or interface in io.atomix.catalyst.transport"><code>Address</code></a>. Once the session is open, the returned <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletableFuture</code></a> will be completed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Managed.html?is-external=true#open--" title="class or interface in io.atomix.catalyst.util">open</a></code>&nbsp;in interface&nbsp;<code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Managed.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Managed</a>&lt;<a href="../../../../io/atomix/copycat/client/RaftClient.html" title="interface in io.atomix.copycat.client">RaftClient</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completable future to be completed once the client's <a href="../../../../io/atomix/copycat/client/RaftClient.html#session--"><code>session()</code></a> is open.</dd>
</dl>
</li>
</ul>
<a name="isOpen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>boolean&nbsp;isOpen()</pre>
<div class="block">Returns a boolean value indicating whether the client is open.
 <p>
 Whether the client is open depends on whether the client has an open session to the cluster.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Managed.html?is-external=true#isOpen--" title="class or interface in io.atomix.catalyst.util">isOpen</a></code>&nbsp;in interface&nbsp;<code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Managed.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Managed</a>&lt;<a href="../../../../io/atomix/copycat/client/RaftClient.html" title="interface in io.atomix.copycat.client">RaftClient</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Indicates whether the client is open.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;close()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Managed.html?is-external=true#close--" title="class or interface in io.atomix.catalyst.util">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Managed.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Managed</a>&lt;<a href="../../../../io/atomix/copycat/client/RaftClient.html" title="interface in io.atomix.copycat.client">RaftClient</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="isClosed--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isClosed</h4>
<pre>boolean&nbsp;isClosed()</pre>
<div class="block">Returns a boolean value indicating whether the client is closed.
 <p>
 Whether the client is closed depends on whether the client has not connected to the cluster or its session has been
 closed or expired.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Managed.html?is-external=true#isClosed--" title="class or interface in io.atomix.catalyst.util">isClosed</a></code>&nbsp;in interface&nbsp;<code><a href="http://atomix.io/catalyst/api/latest/io/atomix/catalyst/util/Managed.html?is-external=true" title="class or interface in io.atomix.catalyst.util">Managed</a>&lt;<a href="../../../../io/atomix/copycat/client/RaftClient.html" title="interface in io.atomix.copycat.client">RaftClient</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Indicates whether the client is closed.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RaftClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/atomix/copycat/client/Query.ConsistencyLevel.html" title="enum in io.atomix.copycat.client"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/atomix/copycat/client/RecoveryStrategies.html" title="enum in io.atomix.copycat.client"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/atomix/copycat/client/RaftClient.html" target="_top">Frames</a></li>
<li><a href="RaftClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013&#x2013;2015. All rights reserved.</small></p>
</body>
</html>
